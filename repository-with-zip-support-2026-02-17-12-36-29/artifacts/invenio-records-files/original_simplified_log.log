 postgresql Pulling 
 postgresql Pulled 
 Network docker_services_cli_default  Creating
 Network docker_services_cli_default  Created
 Container docker_services_cli-postgresql-1  Creating
 Container docker_services_cli-postgresql-1  Created
 Container docker_services_cli-postgresql-1  Starting
 Container docker_services_cli-postgresql-1  Started
============================= test session starts ==============================
platform linux -- Python 3.14.2, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original
configfile: setup.cfg
testpaths: tests, invenio_records_files
plugins: invenio-4.0.0, isort-4.0.0, flask-1.3.0, github-actions-annotate-failures-0.3.0, pydocstyle-2.4.0, cov-7.0.0, black-0.6.0, pycodestyle-2.5.0
collected 32 items
tests/test_api.py 
                                       [ 50%]
tests/test_invenio_records_files.py ..s                                  [ 59%]
tests/test_links.py 
                                                  [ 68%]
tests/test_models.py 
                                                 [ 78%]
tests/test_utils.py 
                                                   [ 84%]
tests/test_views.py 
                                                 [ 96%]
invenio_records_files/__init__.py 
                                      [100%]
=============================== warnings summary ===============================
venv/lib/python3.14/site-packages/webargs/compat.py:8
    MARSHMALLOW_VERSION_INFO = tuple(LooseVersion(ma.__version__).version)  # type: tuple
venv/lib/python3.14/site-packages/webargs/compat.py:8
    MARSHMALLOW_VERSION_INFO = tuple(LooseVersion(ma.__version__).version)  # type: tuple
venv/lib/python3.14/site-packages/webargs/__init__.py:13
    __version_info__ = tuple(LooseVersion(__version__).version)
    warnings.warn(
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:334: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
tests/test_api.py::test_files_property
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/.venv/lib/python3.14/site-packages/invenio_files_rest/models.py:719: SAWarning: Object of type <ObjectVersion> not in session, add operation along 'Bucket.objects' will not proceed (This warning originated from the Session 'autoflush' process, which was invoked automatically in response to a user-initiated operation. Consider using ``no_autoflush`` context manager if this warning happened while initializing objects.)
    return db.session.query(cls).filter_by(id=file_id).one_or_none()
tests/test_links.py::test_bucket_link_factory_has_bucket
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/tests/test_links.py:33: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
tests/test_links.py::test_record_files_link_factory
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/tests/test_links.py:49: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
tests/test_models.py::test_cascade_action_record_delete[False-1]
tests/test_models.py::test_cascade_action_record_delete[True-0]
tests/test_utils.py::test_file_download_ui
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:442: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
tests/test_models.py::test_cascade_action_record_delete[False-1]
tests/test_models.py::test_cascade_action_record_delete[True-0]
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:495: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
tests/test_views.py::test_records_files_rest_integration
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/tests/conftest.py:182: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
tests/test_views.py::test_records_files_rest_integration
    RecordBucketSchema().dump(bucket, context=context_schema.get()).data
tests/test_views.py::test_record_without_bucket
tests/test_views.py::test_record_no_files
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-records-files/original/tests/conftest.py:193: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.14.2-final-0 ________________
Name                                                                        Stmts   Miss  Cover   Missing
invenio_records_files/__init__.py                                               4      0   100%
invenio_records_files/alembic/1ba76da94103_create_records_files_tables.py      11      2    82%   27, 45
invenio_records_files/alembic/2da9a03b0833_create_records_files_branch.py       8      0   100%
invenio_records_files/alembic/4a5d5b4d4c2f_create_bucket_id_index.py            9      2    78%   22, 34
invenio_records_files/api.py                                                  158      0   100%
invenio_records_files/config.py                                                 2      0   100%
invenio_records_files/ext.py                                                   13      0   100%
invenio_records_files/jsonschemas/__init__.py                                   0      0   100%
invenio_records_files/links.py                                                 16      0   100%
invenio_records_files/models.py                                                20      0   100%
invenio_records_files/serializer.py                                            36      0   100%
invenio_records_files/utils.py                                                 29      0   100%
invenio_records_files/views.py                                                 50      2    96%   119, 159
TOTAL                                                                         356      6    98%
================== 31 passed, 1 skipped, 68 warnings in 9.92s ==================
 Container docker_services_cli-postgresql-1  Stopping
 Container docker_services_cli-postgresql-1  Stopped
 Container docker_services_cli-postgresql-1  Removing
 Container docker_services_cli-postgresql-1  Removed
 Network docker_services_cli_default  Removing
 Network docker_services_cli_default  Removed
