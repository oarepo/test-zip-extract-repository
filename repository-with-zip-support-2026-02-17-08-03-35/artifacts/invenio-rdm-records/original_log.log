 rabbitmq Pulling 
 postgresql Pulling 
 redis Pulling 
 opensearch Pulling 
 eb77aa907276 Pulling fs layer 
 f9dd052e142d Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 e8c6d4883897 Pulling fs layer 
 648eb81b3252 Pulling fs layer 
 0ffa8f8aba1e Pulling fs layer 
 2e81b9cb93cd Pulling fs layer 
 4f4fb700ef54 Already exists 
 4831516dd0cb Pulling fs layer 
 c5761dea9b0e Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 47a60771af96 Pulling fs layer 
 7b28be0c8c4d Pulling fs layer 
 edcaff0d5e7e Pulling fs layer 
 22dca8215bc4 Pulling fs layer 
 bbf018d6d4b8 Pulling fs layer 
 cb628c265f09 Pulling fs layer 
 b0a0cf830b12 Pulling fs layer 
 c199bff16b05 Pulling fs layer 
 91d2729fa4d5 Pulling fs layer 
 e0d55fdb4d15 Pulling fs layer 
 c1cb13b19080 Pulling fs layer 
 873532e5f8c7 Pulling fs layer 
 f8406d9c00ea Pulling fs layer 
 710e142705f8 Pulling fs layer 
 ae3bb1b347a4 Pulling fs layer 
 9739ced65621 Pulling fs layer 
 dda3d8fbd5ed Pulling fs layer 
 283a477db7bb Pulling fs layer 
 050d9f8c3b1c Pulling fs layer 
 d686b50ce172 Pulling fs layer 
 d63c4408fdb7 Pulling fs layer 
 7084ac8f4ab6 Pulling fs layer 
 20043066d3d5 Pulling fs layer 
 3fadc669ef11 Pulling fs layer 
 beb0d870d438 Pulling fs layer 
 f4e7f62f4b80 Pulling fs layer 
 5e1c03b67a78 Pulling fs layer 
 14e6209d5fa8 Pulling fs layer 
 efa05c660812 Pulling fs layer 
 2e81b9cb93cd Download complete 
 4f4fb700ef54 Already exists 
 d63c4408fdb7 Downloading [=========>                                         ]  4.194MB/21.31MB
 b0a0cf830b12 Downloading [================>                                  ]  9.437MB/29.15MB
 eb77aa907276 Downloading [>                                                  ]  2.097MB/907.7MB
 4831516dd0cb Downloading [================>                                  ]  9.437MB/28.23MB
 cb628c265f09 Download complete 
 3fadc669ef11 Downloading [=>                                                 ]  1.049MB/43.48MB
 c1cb13b19080 Download complete 
 efa05c660812 Download complete 
 d63c4408fdb7 Downloading [========================>                          ]  10.49MB/21.31MB
 648eb81b3252 Download complete 
 eb77aa907276 Downloading [>                                                  ]  8.389MB/907.7MB
 f9dd052e142d Downloading [=>                                                 ]  1.049MB/52.33MB
 7b28be0c8c4d Download complete 
 22dca8215bc4 Downloading [===>                                               ]  942.1kB/15.35MB
 0ffa8f8aba1e Download complete 
 050d9f8c3b1c Download complete 
 beb0d870d438 Download complete 
 bbf018d6d4b8 Download complete 
 4831516dd0cb Downloading [==========================>                        ]  14.68MB/28.23MB
 c5761dea9b0e Download complete 
 710e142705f8 Download complete 
 b0a0cf830b12 Downloading [==========================>                        ]  15.73MB/29.15MB
 f8406d9c00ea Downloading [==================================================>]     116B/116B
 47a60771af96 Download complete 
 873532e5f8c7 Download complete 
 c199bff16b05 Download complete 
 e0d55fdb4d15 Downloading [=>                                                 ]  4.194MB/109MB
 edcaff0d5e7e Download complete 
 22dca8215bc4 Downloading [==========>                                        ]  3.146MB/15.35MB
 4831516dd0cb Downloading [=============================>                     ]  16.78MB/28.23MB
 f4e7f62f4b80 Download complete 
 eb77aa907276 Downloading [>                                                  ]  11.53MB/907.7MB
 f9dd052e142d Downloading [====>                                              ]  4.194MB/52.33MB
 e8c6d4883897 Downloading [===================================>               ]  3.146MB/4.398MB
 f8406d9c00ea Download complete 
 3fadc669ef11 Downloading [====>                                              ]  4.194MB/43.48MB
 20043066d3d5 Downloading [===>                                               ]  2.097MB/29.72MB
 91d2729fa4d5 Download complete 
 9739ced65621 Downloading [===================>                               ]  3.146MB/8.069MB
 5e1c03b67a78 Download complete 
 dda3d8fbd5ed Download complete 
 283a477db7bb Downloading [=======================>                           ]  2.097MB/4.533MB
 e0d55fdb4d15 Downloading [===>                                               ]   7.34MB/109MB
 14e6209d5fa8 Download complete 
 d686b50ce172 Downloading [========>                                          ]  2.097MB/12.47MB
 d63c4408fdb7 Downloading [===============================>                   ]  13.63MB/21.31MB
 7084ac8f4ab6 Downloading [==============>                                    ]  2.097MB/7.468MB
 ae3bb1b347a4 Download complete 
 b0a0cf830b12 Downloading [================================>                  ]  18.87MB/29.15MB
 d686b50ce172 Downloading [=====================>                             ]  5.243MB/12.47MB
 d63c4408fdb7 Downloading [=========================================>         ]  17.83MB/21.31MB
 7084ac8f4ab6 Downloading [==========================================>        ]  6.291MB/7.468MB
 3fadc669ef11 Downloading [=========>                                         ]  8.389MB/43.48MB
 20043066d3d5 Downloading [========>                                          ]  5.243MB/29.72MB
 b0a0cf830b12 Downloading [=======================================>           ]  23.07MB/29.15MB
 5682dec5b749 Downloading [==================>                                ]  2.097MB/5.719MB
 9739ced65621 Downloading [======================================>            ]  6.291MB/8.069MB
 e8c6d4883897 Download complete 
 eb77aa907276 Downloading [>                                                  ]  14.68MB/907.7MB
 f9dd052e142d Downloading [========>                                          ]  8.389MB/52.33MB
 22dca8215bc4 Downloading [=======================>                           ]   7.34MB/15.35MB
 4831516dd0cb Downloading [===================================>               ]  19.92MB/28.23MB
 283a477db7bb Download complete 
 e0d55fdb4d15 Downloading [=====>                                             ]  11.53MB/109MB
 d686b50ce172 Downloading [=====================================>             ]  9.437MB/12.47MB
 d63c4408fdb7 Downloading [==================================================>]  21.31MB/21.31MB
 eb77aa907276 Downloading [=>                                                 ]  19.92MB/907.7MB
 f9dd052e142d Downloading [============>                                      ]  12.58MB/52.33MB
 7084ac8f4ab6 Download complete 
 4831516dd0cb Downloading [============================================>      ]  25.17MB/28.23MB
 9739ced65621 Download complete 
 56b5e4f0933d Download complete 
 e0d55fdb4d15 Downloading [=======>                                           ]  15.73MB/109MB
 b0a0cf830b12 Downloading [==============================================>    ]  27.26MB/29.15MB
 7ec4c696b8bb Download complete 
 e7da101a9486 Download complete 
 5682dec5b749 Download complete 
 16ef6b12768c Download complete 
 3fadc669ef11 Downloading [==============>                                    ]  12.58MB/43.48MB
 20043066d3d5 Downloading [===============>                                   ]  9.437MB/29.72MB
 c4cc93acbec6 Download complete 
 22dca8215bc4 Downloading [=====================================>             ]  11.53MB/15.35MB
 eb77aa907276 Downloading [=>                                                 ]  26.21MB/907.7MB
 f9dd052e142d Downloading [===================>                               ]  19.92MB/52.33MB
 e0d55fdb4d15 Downloading [==========>                                        ]  22.02MB/109MB
 22dca8215bc4 Download complete 
 4831516dd0cb Download complete 
 d686b50ce172 Download complete 
 b0a0cf830b12 Download complete 
 d63c4408fdb7 Download complete 
 3fadc669ef11 Downloading [=====================>                             ]  18.87MB/43.48MB
 20043066d3d5 Downloading [==========================>                        ]  15.73MB/29.72MB
 4831516dd0cb Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 eb77aa907276 Downloading [=>                                                 ]  35.65MB/907.7MB
 f9dd052e142d Downloading [====================>                              ]  20.97MB/52.33MB
 e0d55fdb4d15 Downloading [===============>                                   ]  32.85MB/109MB
 3fadc669ef11 Downloading [===============================>                   ]  27.26MB/43.48MB
 20043066d3d5 Downloading [========================================>          ]  24.12MB/29.72MB
 4831516dd0cb Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 e0d55fdb4d15 Downloading [===================>                               ]  41.94MB/109MB
 eb77aa907276 Downloading [==>                                                ]  44.04MB/907.7MB
 3fadc669ef11 Downloading [==========================================>        ]   36.7MB/43.48MB
 f9dd052e142d Downloading [=======================>                           ]  24.12MB/52.33MB
 20043066d3d5 Download complete 
 4831516dd0cb Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 e0d55fdb4d15 Downloading [=======================>                           ]  50.19MB/109MB
 f9dd052e142d Downloading [==============================>                    ]  31.46MB/52.33MB
 eb77aa907276 Downloading [==>                                                ]  51.38MB/907.7MB
 3fadc669ef11 Downloading [==================================================>]  43.48MB/43.48MB
 4831516dd0cb Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 eb77aa907276 Downloading [===>                                               ]  61.46MB/907.7MB
 f9dd052e142d Downloading [=======================================>           ]  40.89MB/52.33MB
 e0d55fdb4d15 Downloading [===========================>                       ]  59.77MB/109MB
 3fadc669ef11 Download complete 
 4831516dd0cb Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 eb77aa907276 Downloading [===>                                               ]  72.35MB/907.7MB
 f9dd052e142d Downloading [===============================================>   ]  49.28MB/52.33MB
 e0d55fdb4d15 Downloading [================================>                  ]   71.3MB/109MB
 4831516dd0cb Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 e0d55fdb4d15 Downloading [====================================>              ]  80.45MB/109MB
 eb77aa907276 Downloading [====>                                              ]  82.74MB/907.7MB
 f9dd052e142d Download complete 
 f9dd052e142d Extracting 1 s
 4831516dd0cb Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 e0d55fdb4d15 Downloading [==========================================>        ]  92.27MB/109MB
 eb77aa907276 Downloading [=====>                                             ]  94.37MB/907.7MB
 f9dd052e142d Extracting 1 s
 20043066d3d5 Extracting 1 s
 4831516dd0cb Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 eb77aa907276 Downloading [=====>                                             ]  103.8MB/907.7MB
 e0d55fdb4d15 Downloading [==============================================>    ]  101.7MB/109MB
 f9dd052e142d Extracting 1 s
 4831516dd0cb Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 e0d55fdb4d15 Downloading [==================================================>]    109MB/109MB
 eb77aa907276 Downloading [======>                                            ]  115.3MB/907.7MB
 4831516dd0cb Extracting 1 s
 f9dd052e142d Extracting 1 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 eb77aa907276 Downloading [======>                                            ]  126.9MB/907.7MB
 e0d55fdb4d15 Download complete 
 f9dd052e142d Extracting 1 s
 20043066d3d5 Extracting 1 s
 4831516dd0cb Extracting 1 s
 b0a0cf830b12 Extracting 1 s
 eb77aa907276 Downloading [=======>                                           ]  142.6MB/907.7MB
 f9dd052e142d Extracting 1 s
 4831516dd0cb Extracting 2 s
 20043066d3d5 Extracting 1 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [========>                                          ]  159.4MB/907.7MB
 f9dd052e142d Extracting 1 s
 20043066d3d5 Extracting 1 s
 4831516dd0cb Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [=========>                                         ]  175.1MB/907.7MB
 f9dd052e142d Extracting 1 s
 4831516dd0cb Extracting 2 s
 20043066d3d5 Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [==========>                                        ]  189.8MB/907.7MB
 f9dd052e142d Extracting 1 s
 20043066d3d5 Extracting 2 s
 4831516dd0cb Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [===========>                                       ]  205.2MB/907.7MB
 f9dd052e142d Extracting 1 s
 4831516dd0cb Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 20043066d3d5 Extracting 2 s
 eb77aa907276 Downloading [============>                                      ]  221.2MB/907.7MB
 f9dd052e142d Extracting 1 s
 20043066d3d5 Extracting 2 s
 4831516dd0cb Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [=============>                                     ]    237MB/907.7MB
 f9dd052e142d Extracting 2 s
 20043066d3d5 Extracting 2 s
 4831516dd0cb Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [=============>                                     ]  251.7MB/907.7MB
 f9dd052e142d Extracting 2 s
 20043066d3d5 Extracting 2 s
 4831516dd0cb Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [==============>                                    ]  267.4MB/907.7MB
 4831516dd0cb Extracting 2 s
 f9dd052e142d Extracting 2 s
 20043066d3d5 Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [===============>                                   ]    280MB/907.7MB
 f9dd052e142d Extracting 2 s
 4831516dd0cb Extracting 2 s
 20043066d3d5 Extracting 2 s
 b0a0cf830b12 Extracting 2 s
 eb77aa907276 Downloading [================>                                  ]  291.5MB/907.7MB
 f9dd052e142d Extracting 2 s
 4831516dd0cb Extracting 3 s
 20043066d3d5 Extracting 2 s
 b0a0cf830b12 Extracting 3 s
 eb77aa907276 Downloading [================>                                  ]  298.8MB/907.7MB
 f9dd052e142d Extracting 2 s
 4831516dd0cb Extracting 3 s
 20043066d3d5 Extracting 3 s
 b0a0cf830b12 Extracting 3 s
 eb77aa907276 Downloading [=================>                                 ]  312.5MB/907.7MB
 47a60771af96 Extracting 1 s
 f9dd052e142d Extracting 2 s
 20043066d3d5 Extracting 3 s
 4831516dd0cb Pull complete 
 dda3d8fbd5ed Pull complete 
 b0a0cf830b12 Pull complete 
 eb77aa907276 Downloading [=================>                                 ]  326.5MB/907.7MB
 7b28be0c8c4d Pull complete 
 47a60771af96 Pull complete 
 f9dd052e142d Extracting 2 s
 edcaff0d5e7e Extracting 1 s
 20043066d3d5 Extracting 3 s
 283a477db7bb Extracting 1 s
 eb77aa907276 Downloading [==================>                                ]  340.8MB/907.7MB
 edcaff0d5e7e Pull complete 
 22dca8215bc4 Extracting 1 s
 f9dd052e142d Extracting 2 s
 20043066d3d5 Pull complete 
 eb77aa907276 Downloading [==================>                                ]  342.9MB/907.7MB
 3fadc669ef11 Extracting 1 s
 283a477db7bb Extracting 1 s
 22dca8215bc4 Extracting 1 s
 f9dd052e142d Extracting 2 s
 3fadc669ef11 Extracting 1 s
 283a477db7bb Extracting 1 s
 eb77aa907276 Downloading [===================>                               ]  357.6MB/907.7MB
 22dca8215bc4 Extracting 1 s
 f9dd052e142d Extracting 3 s
 91d2729fa4d5 Extracting 1 s
 3fadc669ef11 Extracting 1 s
 283a477db7bb Pull complete 
 eb77aa907276 Downloading [====================>                              ]  372.2MB/907.7MB
 f9dd052e142d Extracting 3 s
 22dca8215bc4 Extracting 1 s
 91d2729fa4d5 Pull complete 
 3fadc669ef11 Extracting 1 s
 9739ced65621 Extracting 1 s
 eb77aa907276 Downloading [=====================>                             ]  386.9MB/907.7MB
 22dca8215bc4 Extracting 1 s
 f9dd052e142d Extracting 3 s
 9739ced65621 Extracting 1 s
 3fadc669ef11 Extracting 1 s
 eb77aa907276 Downloading [======================>                            ]  402.6MB/907.7MB
 22dca8215bc4 Extracting 1 s
 9739ced65621 Extracting 1 s
 f9dd052e142d Extracting 3 s
 3fadc669ef11 Extracting 1 s
 eb77aa907276 Downloading [=======================>                           ]  418.4MB/907.7MB
 22dca8215bc4 Extracting 1 s
 3fadc669ef11 Extracting 1 s
 f9dd052e142d Extracting 3 s
 9739ced65621 Extracting 1 s
 eb77aa907276 Downloading [=======================>                           ]  435.2MB/907.7MB
 4f4fb700ef54 Pull complete 
 bbf018d6d4b8 Pull complete 
 f9dd052e142d Extracting 3 s
 c5761dea9b0e Pull complete 
 22dca8215bc4 Pull complete 
 9739ced65621 Extracting 1 s
 3fadc669ef11 Extracting 1 s
 redis Pulled 
 eb77aa907276 Downloading [========================>                          ]  448.3MB/907.7MB
 f9dd052e142d Extracting 3 s
 3fadc669ef11 Extracting 1 s
 9739ced65621 Extracting 1 s
 eb77aa907276 Downloading [=========================>                         ]  464.5MB/907.7MB
 f9dd052e142d Extracting 3 s
 3fadc669ef11 Extracting 1 s
 ae3bb1b347a4 Extracting 1 s
 9739ced65621 Pull complete 
 eb77aa907276 Downloading [==========================>                        ]  481.3MB/907.7MB
 c199bff16b05 Pull complete 
 f9dd052e142d Extracting 3 s
 f8406d9c00ea Pull complete 
 ae3bb1b347a4 Pull complete 
 e0d55fdb4d15 Extracting 1 s
 3fadc669ef11 Extracting 1 s
 eb77aa907276 Downloading [===========================>                       ]  500.1MB/907.7MB
 f9dd052e142d Extracting 3 s
 e0d55fdb4d15 Extracting 1 s
 3fadc669ef11 Extracting 2 s
 eb77aa907276 Downloading [============================>                      ]  514.9MB/907.7MB
 f9dd052e142d Extracting 4 s
 e0d55fdb4d15 Extracting 1 s
 3fadc669ef11 Extracting 2 s
 eb77aa907276 Downloading [=============================>                     ]  533.7MB/907.7MB
 e0d55fdb4d15 Extracting 1 s
 f9dd052e142d Extracting 4 s
 3fadc669ef11 Extracting 2 s
 eb77aa907276 Downloading [==============================>                    ]  553.6MB/907.7MB
 f9dd052e142d Extracting 4 s
 e0d55fdb4d15 Extracting 1 s
 3fadc669ef11 Extracting 2 s
 eb77aa907276 Downloading [===============================>                   ]  572.5MB/907.7MB
 f9dd052e142d Extracting 4 s
 7084ac8f4ab6 Extracting 1 s
 e0d55fdb4d15 Extracting 1 s
 3fadc669ef11 Pull complete 
 eb77aa907276 Downloading [================================>                  ]  591.4MB/907.7MB
 f9dd052e142d Extracting 4 s
 e0d55fdb4d15 Extracting 1 s
 7084ac8f4ab6 Extracting 1 s
 eb77aa907276 Downloading [=================================>                 ]  609.2MB/907.7MB
 f9dd052e142d Extracting 4 s
 e0d55fdb4d15 Extracting 1 s
 7084ac8f4ab6 Extracting 1 s
 eb77aa907276 Downloading [==================================>                ]    627MB/907.7MB
 beb0d870d438 Pull complete 
 7084ac8f4ab6 Pull complete 
 f9dd052e142d Extracting 4 s
 e0d55fdb4d15 Extracting 1 s
 d63c4408fdb7 Extracting 1 s
 eb77aa907276 Downloading [===================================>               ]  641.7MB/907.7MB
 e0d55fdb4d15 Extracting 1 s
 d63c4408fdb7 Extracting 1 s
 f9dd052e142d Extracting 4 s
 eb77aa907276 Downloading [====================================>              ]  657.5MB/907.7MB
 f9dd052e142d Extracting 4 s
 e0d55fdb4d15 Extracting 2 s
 d63c4408fdb7 Extracting 1 s
 eb77aa907276 Downloading [=====================================>             ]  677.4MB/907.7MB
 e0d55fdb4d15 Extracting 2 s
 d63c4408fdb7 Extracting 1 s
 f9dd052e142d Extracting 4 s
 eb77aa907276 Downloading [======================================>            ]  695.2MB/907.7MB
 f9dd052e142d Extracting 5 s
 d63c4408fdb7 Extracting 1 s
 e0d55fdb4d15 Extracting 2 s
 eb77aa907276 Downloading [=======================================>           ]  709.9MB/907.7MB
 d63c4408fdb7 Extracting 1 s
 e8c6d4883897 Extracting 1 s
 e0d55fdb4d15 Extracting 2 s
 f9dd052e142d Pull complete 
 eb77aa907276 Downloading [=======================================>           ]  725.6MB/907.7MB
 d63c4408fdb7 Extracting 1 s
 e8c6d4883897 Extracting 1 s
 e0d55fdb4d15 Extracting 2 s
 eb77aa907276 Downloading [========================================>          ]  743.4MB/907.7MB
 e0d55fdb4d15 Extracting 2 s
 d63c4408fdb7 Extracting 1 s
 e8c6d4883897 Extracting 1 s
 eb77aa907276 Downloading [=========================================>         ]  759.2MB/907.7MB
 e8c6d4883897 Pull complete 
 d63c4408fdb7 Extracting 1 s
 e0d55fdb4d15 Extracting 2 s
 eb77aa907276 Downloading [==========================================>        ]    778MB/907.7MB
 648eb81b3252 Pull complete 
 d63c4408fdb7 Extracting 1 s
 e0d55fdb4d15 Extracting 2 s
 eb77aa907276 Downloading [===========================================>       ]    798MB/907.7MB
 e0d55fdb4d15 Extracting 2 s
 d63c4408fdb7 Extracting 1 s
 eb77aa907276 Downloading [============================================>      ]  814.7MB/907.7MB
 efa05c660812 Pull complete 
 f4e7f62f4b80 Pull complete 
 5e1c03b67a78 Pull complete 
 14e6209d5fa8 Pull complete 
 e0d55fdb4d15 Extracting 2 s
 d686b50ce172 Extracting 1 s
 d63c4408fdb7 Pull complete 
 eb77aa907276 Downloading [==============================================>    ]  836.3MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 2 s
 eb77aa907276 Downloading [===============================================>   ]  856.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [================================================>  ]  874.5MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [=================================================> ]  895.5MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 1 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Extracting 2 s
 e0d55fdb4d15 Extracting 3 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 e0d55fdb4d15 Extracting 4 s
 e0d55fdb4d15 Extracting 4 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 e0d55fdb4d15 Extracting 4 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 d686b50ce172 Pull complete 
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 e0d55fdb4d15 Extracting 4 s
 e0d55fdb4d15 Extracting 4 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 e0d55fdb4d15 Extracting 4 s
 eb77aa907276 Downloading [==================================================>]  907.7MB/907.7MB
 e0d55fdb4d15 Extracting 5 s
 rabbitmq Pulled 
 eb77aa907276 Download complete 
 e0d55fdb4d15 Extracting 5 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 e0d55fdb4d15 Extracting 5 s
 eb77aa907276 Extracting 1 s
 c1cb13b19080 Pull complete 
 050d9f8c3b1c Pull complete 
 710e142705f8 Extracting 1 s
 873532e5f8c7 Pull complete 
 e0d55fdb4d15 Pull complete 
 cb628c265f09 Pull complete 
 710e142705f8 Pull complete 
 postgresql Pulled 
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 1 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 2 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 3 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 4 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 eb77aa907276 Extracting 5 s
 4f4fb700ef54 Pull complete 
 2e81b9cb93cd Pull complete 
 0ffa8f8aba1e Pull complete 
 eb77aa907276 Pull complete 
 opensearch Pulled 
 Network docker_services_cli_default  Creating
 Network docker_services_cli_default  Created
 Container docker_services_cli-redis-1  Creating
 Container docker_services_cli-rabbitmq-1  Creating
 Container docker_services_cli-postgresql-1  Creating
 Container docker_services_cli-opensearch-1  Creating
 Container docker_services_cli-rabbitmq-1  Created
 Container docker_services_cli-redis-1  Created
 Container docker_services_cli-opensearch-1  Created
 Container docker_services_cli-postgresql-1  Created
 Container docker_services_cli-rabbitmq-1  Starting
 Container docker_services_cli-postgresql-1  Starting
 Container docker_services_cli-opensearch-1  Starting
 Container docker_services_cli-redis-1  Starting
 Container docker_services_cli-redis-1  Started
 Container docker_services_cli-rabbitmq-1  Started
 Container docker_services_cli-opensearch-1  Started
 Container docker_services_cli-postgresql-1  Started
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=9::'enablePackrat' deprecated - use 'enable_packrat'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=52::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=53::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=54::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=55::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=56::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=57::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=58::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=59::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=60::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=63::'excludeChars' argument is deprecated, use 'exclude_chars'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=73::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=74::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=119::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=122::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=155::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=157::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=199::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=303::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=303::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=304::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=304::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=325::'oneOf' deprecated - use 'one_of'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py,line=103::'addParseAction' deprecated - use 'add_parse_action'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/config.py,line=16::Implicit imports (e.g., 'import idutils; idutils.function;') might be removed in the next major version. Please use explicit imports (e.g., 'from idutils import function;') instead.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/facets.py,line=75::subject_nested is deprecated. Use subject_combined instead.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/webargs/compat.py,line=8::The '__version__' attribute is deprecated and will be removed in in a future version. Use feature detection or 'importlib.metadata.version("marshmallow")' instead.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/webargs/compat.py,line=8::distutils Version classes are deprecated. Use packaging.version instead.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/webargs/__init__.py,line=13::distutils Version classes are deprecated. Use packaging.version instead.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/datacite/jsonutils.py,line=15::jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/datacite/jsonutils.py,line=15::jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
============================= test session starts ==============================
platform linux -- Python 3.14.2, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original
configfile: setup.cfg
testpaths: docs, tests, invenio_rdm_records
plugins: mock-3.15.1, invenio-4.0.0, isort-4.0.0, flask-1.3.0, github-actions-annotate-failures-0.3.0, pydocstyle-2.4.0, Faker-40.4.0, cov-7.0.0, black-0.6.0, pycodestyle-2.5.0
collected 819 items
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/tripoli/resource_validators/base_validator.py,line=611::'return' in a 'finally' block

tests/contrib/codemeta/test_codemeta_custom_fields.py ....::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
             [  0%]
tests/fixtures/load_error/test_vocabularies_load_error.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
              [  0%]
tests/fixtures/test_cli.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/fixtures/demo.py,line=161::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/fixtures/demo.py,line=161::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.                                         [  1%]
tests/fixtures/test_fixtures.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.......::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.                                [  2%]
tests/oaiserver/test_oaipmh.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                                       [  2%]
tests/records/dumpers/test_access_dumpers.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
s                          [  3%]
tests/records/dumpers/test_combined_subjects_dumper.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
                 [  3%]
tests/records/dumpers/test_edtf_dumpers.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
                     [  4%]
tests/records/dumpers/test_files_dumpers.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
                            [  4%]
tests/records/dumpers/test_location_dumpers.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
s                     [  5%]
tests/records/dumpers/test_pids_dumper.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/records/dumpers/test_pids_dumper.py,line=37::nested transaction already deassociated from connection
                              [  5%]
tests/records/systemfields/test_access_systemfield.py ......::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
............ [  7%]
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
                                                                  [  8%]
tests/records/systemfields/test_permission_flags.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                  [  8%]
tests/records/systemfields/test_tombstone.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
......::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
                     [  9%]
tests/records/test_api.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
                                              [  9%]
tests/records/test_jsonschema.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
....................................   [ 14%]
tests/records/test_quotas.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                                          [ 14%]
tests/records/test_records_communities.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/records/test_records_communities.py,line=43::nested transaction already deassociated from connection
                              [ 14%]
tests/records/test_relations_affiliations.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
........                   [ 15%]
tests/records/test_relations_languages.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...                           [ 16%]
tests/records/test_relations_resource_types.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
..                       [ 16%]
tests/records/test_relations_subjects.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
..                             [ 16%]
tests/requests/test_record_deletion.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                              [ 17%]
tests/requests/test_user_moderation_actions.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                       [ 17%]
tests/resources/serializers/test_bibtex_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
............... [ 19%]
.............................                                            [ 23%]
tests/resources/serializers/test_cff_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
                     [ 23%]
tests/resources/serializers/test_csl_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.                  [ 24%]
tests/resources/serializers/test_datacite43_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.     [ 25%]
tests/resources/serializers/test_datacite45_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.     [ 26%]
tests/resources/serializers/test_datapackage_serializer.py ...           [ 26%]
tests/resources/serializers/test_dcat_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
                    [ 26%]
tests/resources/serializers/test_dublincore_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
......        [ 27%]
tests/resources/serializers/test_geojson_serializer.py ...               [ 28%]
tests/resources/serializers/test_marcxml_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.                [ 28%]
tests/resources/serializers/test_schemaorg_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
..             [ 28%]
tests/resources/serializers/test_signposting_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
....         [ 29%]
tests/resources/serializers/test_ui_serializer.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
                      [ 29%]
tests/resources/test_access_requests.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/resources/test_access_requests.py,line=340::test_access_grant_for_role%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                            [ 30%]
tests/resources/test_draft_file_permissions.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
........::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.....            [ 31%]
tests/resources/test_files.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_files_rest/models.py,line=719::Object of type <ObjectVersion> not in session, add operation along 'Bucket.objects' will not proceed (This warning originated from the Session 'autoflush' process, which was invoked automatically in response to a user-initiated operation. Consider using ``no_autoflush`` context manager if this warning happened while initializing objects.)
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                                      [ 32%]
tests/resources/test_iiif_image_api.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                           [ 33%]
tests/resources/test_iiif_presentation_api.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                      [ 33%]
tests/resources/test_media_files.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
....::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                                [ 34%]
tests/resources/test_publish_errors.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.s                               [ 34%]
tests/resources/test_record_file_permissions.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                 [ 35%]
tests/resources/test_request_deletion.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_request_deletion.py,line=57::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                           [ 36%]
tests/resources/test_resources.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
........::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.ss.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
               [ 39%]
tests/resources/test_resources_communities.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_resources_communities.py,line=31::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_resources_communities.py,line=31::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_resources_communities.py,line=31::nested transaction already deassociated from connection
. [ 42%]
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_resources_communities.py,line=31::nested transaction already deassociated from connection
                                                                       [ 42%]
tests/resources/test_resources_community_records.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.                [ 43%]
tests/resources/test_resources_oai.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...........                       [ 44%]
tests/resources/test_resources_pids.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
                            [ 45%]
tests/resources/test_resources_record_communities.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                  [ 45%]
tests/resources/test_resources_review.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.........                      [ 47%]
tests/resources/test_resources_search.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                               [ 47%]
tests/resources/test_resources_user_access.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.......                   [ 48%]
tests/resources/test_rocrate.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.                                       [ 48%]
tests/resources/test_serialized_links.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_security/utils.py,line=77::Remember me support has been removed.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                            [ 48%]
tests/resources/test_signposting.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                                  [ 49%]
tests/resources/vocabularies/test_affiliations_vocabulary.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.          [ 49%]
tests/resources/vocabularies/test_awards_vocabulary.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.                [ 49%]
tests/resources/vocabularies/test_funders_vocabulary.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.               [ 50%]
tests/resources/vocabularies/test_names_vocabulary.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.                 [ 50%]
tests/resources/vocabularies/test_subjects_vocabulary.py s.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
              [ 50%]
tests/secret_links/test_secret_links.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
........                        [ 51%]
tests/secret_links/test_sharing.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/secret_links/test_sharing.py,line=200::nested transaction already deassociated from connection
                                   [ 52%]
tests/secret_links/test_token_serializers.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
....                       [ 52%]
tests/services/components/test_access_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
ssss.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
                [ 53%]
tests/services/components/test_internal_notes_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
             [ 53%]
tests/services/components/test_metadata_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
                   [ 53%]
tests/services/components/test_pids_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.........::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.....     [ 55%]
tests/services/components/test_relations_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                  [ 56%]
tests/services/components/test_signal_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                     [ 56%]
tests/services/components/test_verified_component.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                  [ 56%]
tests/services/files/test_deleted_record_files.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                      [ 56%]
tests/services/files/test_metadata_files.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
s                           [ 56%]
tests/services/files/test_revert_of_deleted_files_in_published_record.py . [ 56%]
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_files_rest/models.py,line=719::Object of type <ObjectVersion> not in session, add operation along 'Bucket.objects' will not proceed (This warning originated from the Session 'autoflush' process, which was invoked automatically in response to a user-initiated operation. Consider using ``no_autoflush`` context manager if this warning happened while initializing objects.)
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=495::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=548::nested transaction already deassociated from connection
                                                                         [ 56%]
tests/services/files/test_zip_listing_extraction.py ::error file=workdir/tests/invenio-rdm-records/original/tests/services/files/test_zip_listing_extraction.py,line=50::test_zip_file_listing%0A%0Amarshmallow.exceptions.ValidationError: Missing uploaded files. To disable files for this record please mark it as metadata-only.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=204::nested transaction already deassociated from connection
EEEEEEEE            [ 57%]
tests/services/pids/providers/test_datacite_pid_provider.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
...  [ 59%]
tests/services/pids/providers/test_external_pid_provider.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
        [ 59%]
tests/services/pids/providers/test_oai_invenio_pid_provider.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
..       [ 60%]
tests/services/pids/test_pids_service.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
....::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..........::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
    [ 63%]
tests/services/pids/test_pids_tasks.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
                           [ 64%]
tests/services/schemas/test_access.py .........                          [ 65%]
tests/services/schemas/test_additional_description.py ......s            [ 66%]
tests/services/schemas/test_additional_title.py ......ss                 [ 67%]
tests/services/schemas/test_creator_contributor.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...................  [ 69%]
tests/services/schemas/test_dates.py ...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
....::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
                            [ 70%]
tests/services/schemas/test_formats.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
....                             [ 71%]
tests/services/schemas/test_funding.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.....                            [ 72%]
tests/services/schemas/test_identifier.py ....::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...                        [ 73%]
tests/services/schemas/test_languages.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.                              [ 73%]
tests/services/schemas/test_location.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...........                     [ 74%]
tests/services/schemas/test_metadata.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
..                              [ 75%]
tests/services/schemas/test_pids.py .....                                [ 75%]
tests/services/schemas/test_publication_date.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
ss.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py,line=352::'parseString' deprecated - use 'parse_string'
               [ 76%]
tests/services/schemas/test_rdm_record_schema.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.                      [ 77%]
tests/services/schemas/test_reference.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
......                         [ 78%]
tests/services/schemas/test_related_identifier.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.........             [ 79%]
tests/services/schemas/test_resource_type.py ...                         [ 79%]
tests/services/schemas/test_rights.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
.............                     [ 81%]
tests/services/schemas/test_sizes.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
....                               [ 81%]
tests/services/schemas/test_version.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...                              [ 82%]
tests/services/schemas/test_vocabulary.py ..                             [ 82%]
tests/services/test_deletion_policy.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_deletion_policy.py,line=37::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_deletion_policy.py,line=95::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                             [ 83%]
tests/services/test_generators.py ......::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.                                [ 84%]
tests/services/test_oai_service.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
...                                  [ 84%]
tests/services/test_permissions_policy.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
.                             [ 84%]
tests/services/test_rdm_service.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=212::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=212::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=212::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                    [ 87%]
tests/services/test_record_deletion.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                               [ 87%]
tests/services/test_record_deletion_request.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_record_deletion_request.py,line=77::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_record_deletion_request.py,line=107::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_record_deletion_request.py,line=137::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                 [ 88%]
tests/services/test_service_access.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/services/test_service_access.py,line=78::test_cant_create_multiple_grants_for_same_role%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/services/test_service_access.py,line=315::test_read_grant_by_subjectid_provide_role%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/services/test_service_access.py,line=426::test_delete_grant_by_subjectid_provide_role%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/services/test_service_access.py,line=477::test_read_all_grants_by_subject_found%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/services/test_service_access.py,line=510::test_read_all_grants_by_subject_not_found%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::error file=workdir/tests/invenio-rdm-records/original/tests/services/test_service_access.py,line=580::test_update_grant_by_subject_not_found%0A%0Amarshmallow.exceptions.ValidationError: Could not find the specified subject.
F::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.                [ 90%]
tests/services/test_service_communities.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
                           [ 91%]
tests/services/test_service_community_records.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_service_community_records.py,line=95::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
              [ 92%]
tests/services/test_service_record_communities.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
               [ 93%]
tests/services/test_service_review.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.........::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
...::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
........::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
......    [ 97%]
tests/services/test_service_tasks.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=442::nested transaction already deassociated from connection
                                 [ 97%]
tests/services/test_sort.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py,line=579::nested transaction already deassociated from connection
                                            [ 97%]
tests/test_alembic.py s                                                  [ 97%]
tests/test_invenio_rdm_records.py ..::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
                                     [ 98%]
tests/tokens/test_feature_flag.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
                                      [ 98%]
tests/tokens/test_resource_access.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 10 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 10 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
.::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py,line=334::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py,line=193::nested transaction already deassociated from connection
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=153::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py,line=371::The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
                     [100%]

==================================== ERRORS ====================================
__________________ ERROR at setup of test_zip_file_extraction __________________

self = <sqlalchemy.engine.base.Connection object at 0x7fe78022d5e0>
dialect = <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fe78aa23a80>
context = <sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7fe786312250>
statement = <sqlalchemy.dialects.postgresql.base.PGCompiler object at 0x7fe790256d50>
parameters = [{'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'description': None, 'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'is_managed': True, ...}]

    def _exec_single_context(
        self,
        dialect: Dialect,
        context: ExecutionContext,
        statement: Union[str, Compiled],
        parameters: Optional[_AnyMultiExecuteParams],
    ) -> CursorResult[Any]:
        """continue the _execute_context() method for a single DBAPI
        cursor.execute() or cursor.executemany() call.
    
        """
        if dialect.bind_typing is BindTyping.SETINPUTSIZES:
            generic_setinputsizes = context._prepare_set_input_sizes()
    
            if generic_setinputsizes:
                try:
                    dialect.do_set_input_sizes(
                        context.cursor, generic_setinputsizes, context
                    )
                except BaseException as e:
                    self._handle_dbapi_exception(
                        e, str(statement), parameters, None, context
                    )
    
        cursor, str_statement, parameters = (
            context.cursor,
            context.statement,
            context.parameters,
        )
    
        effective_parameters: Optional[_AnyExecuteParams]
    
        if not context.executemany:
            effective_parameters = parameters[0]
        else:
            effective_parameters = parameters
    
        if self._has_events or self.engine._has_events:
            for fn in self.dispatch.before_cursor_execute:
                str_statement, effective_parameters = fn(
                    self,
                    cursor,
                    str_statement,
                    effective_parameters,
                    context,
                    context.executemany,
                )
    
        if self._echo:
            self._log_info(str_statement)
    
            stats = context._get_cache_stats()
    
            if not self.engine.hide_parameters:
                self._log_info(
                    "[%s] %r",
                    stats,
                    sql_util._repr_params(
                        effective_parameters,
                        batches=10,
                        ismulti=context.executemany,
                    ),
                )
            else:
                self._log_info(
                    "[%s] [SQL parameters hidden due to hide_parameters=True]",
                    stats,
                )
    
        evt_handled: bool = False
        try:
            if context.execute_style is ExecuteStyle.EXECUTEMANY:
                effective_parameters = cast(
                    "_CoreMultiExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_executemany:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_executemany(
                        cursor,
                        str_statement,
                        effective_parameters,
                        context,
                    )
            elif not effective_parameters and context.no_parameters:
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute_no_params:
                        if fn(cursor, str_statement, context):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_execute_no_params(
                        cursor, str_statement, context
                    )
            else:
                effective_parameters = cast(
                    "_CoreSingleExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
>                   self.dialect.do_execute(
                        cursor, str_statement, effective_parameters, context
                    )

.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1967: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fe78aa23a80>
cursor = <cursor object at 0x7fe78022cc70; closed: -1>
statement = 'INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)'
parameters = {'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'description': None, 'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'is_managed': True, ...}
context = <sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7fe786312250>

    def do_execute(self, cursor, statement, parameters, context=None):
>       cursor.execute(statement, parameters)
E       psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "uq_accounts_role_name"
E       DETAIL:  Key (name)=(administration-access) already exists.

.venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py:952: UniqueViolation

The above exception was the direct cause of the following exception:

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:137: in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:1311: in commit
    self._prepare_impl()
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:137: in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl
    self.session.flush()
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:4331: in flush
    self._flush(objects)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:4466: in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:4427: in _flush
    flush_context.execute()
.venv/lib/python3.14/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute
    rec.execute(self)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute
    util.preloaded.orm_persistence.save_obj(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj
    _emit_insert_statements(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/persistence.py:1233: in _emit_insert_statements
    result = connection.execute(
.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1419: in execute
    return meth(
.venv/lib/python3.14/site-packages/sqlalchemy/sql/elements.py:527: in _execute_on_connection
    return connection._execute_clauseelement(
.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1846: in _execute_context
    return self._exec_single_context(
.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:2363: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
.venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1967: in _exec_single_context
    self.dialect.do_execute(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fe78aa23a80>
cursor = <cursor object at 0x7fe78022cc70; closed: -1>
statement = 'INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)'
parameters = {'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'description': None, 'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'is_managed': True, ...}
context = <sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7fe786312250>

    def do_execute(self, cursor, statement, parameters, context=None):
>       cursor.execute(statement, parameters)
E       sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E       DETAIL:  Key (name)=(administration-access) already exists.
E       
E       [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E       [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E       (Background on this error at: https://sqlalche.me/e/20/gkpj)

.venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py:952: IntegrityError
_________________ ERROR at setup of test_zip_folder_extraction _________________

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = 'commit', state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
______________ ERROR at setup of test_large_zip_folder_extraction ______________

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = 'commit', state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
________________ ERROR at setup of test_large_zip_memory_usage _________________

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = 'commit', state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
_________________ ERROR at setup of test_zip_listing_resource __________________

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = 'commit', state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
_______________ ERROR at setup of test_zip_file_extract_resource _______________

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = 'commit', state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
______________ ERROR at setup of test_zip_folder_extract_resource ______________

db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>

    @pytest.fixture()
    def admin_role_need(db):
        """Store 1 role with 'superuser-access' ActionNeed.
    
        WHY: This is needed because expansion of ActionNeed is
             done on the basis of a User/Role being associated with that Need.
             If no User/Role is associated with that Need (in the DB), the
             permission is expanded to an empty list.
        """
        role = Role(name="administration-access")
        db.session.add(role)
    
        action_role = ActionRoles.create(action=administration_access_action, role=role)
        db.session.add(action_role)
    
>       db.session.commit()

tests/conftest.py:1831: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/scoping.py:597: in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2030: in commit
    trans.commit(_to_root=True)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = 'commit', state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
____________ ERROR at teardown of test_zip_folder_extract_resource _____________

database = <SQLAlchemy>

    @pytest.yield_fixture(scope="module")
    def location(database):
        """Creates a simple default location for a test.
    
        Scope: function
    
        Use this fixture if your test requires a `files location <https://invenio-
        files-rest.readthedocs.io/en/latest/api.html#invenio_files_rest.models.
        Location>`_. The location will be a default location with the name
        ``pytest-location``.
        """
        from invenio_files_rest.models import Location
    
        uri = tempfile.mkdtemp()
        location_obj = Location(name="pytest-location", uri=uri, default=True)
    
        database.session.add(location_obj)
        database.session.commit()
    
        yield location_obj
    
>       shutil.rmtree(location_obj.uri)
                      ^^^^^^^^^^^^^^^^

.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py:752: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/sqlalchemy/orm/attributes.py:569: in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/attributes.py:1096: in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/attributes.py:1126: in _fire_loader_callables
    return state._load_expired(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state.py:828: in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/loading.py:1674: in load_scalar_attributes
    result = load_on_ident(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/loading.py:510: in load_on_ident
    return load_on_pk_identity(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/loading.py:695: in load_on_pk_identity
    session.execute(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2351: in execute
    return self._execute_internal(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2228: in _execute_internal
    ) = compile_state_cls.orm_pre_session_exec(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/context.py:577: in orm_pre_session_exec
    session._autoflush()
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:3040: in _autoflush
    self.flush()
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:4331: in flush
    self._flush(objects)
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:4359: in _flush
    self.dispatch.before_flush(self, flush_context, objects)
.venv/lib/python3.14/site-packages/sqlalchemy/event/attr.py:387: in __call__
    fn(*args, **kw)
.venv/lib/python3.14/site-packages/sqlalchemy_continuum/manager.py:349: in before_flush
    uow = self.unit_of_work(session)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy_continuum/manager.py:308: in unit_of_work
    conn = session.connection()
           ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2092: in connection
    return self._connection_for_bind(
.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:2108: in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/sqlalchemy/orm/state_changes.py:101: in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <sqlalchemy.orm.session.SessionTransaction object at 0x7fe794cb5300>
operation_name = '_connection_for_bind'
state = <SessionTransactionState.DEACTIVE: 4>

    def _raise_for_prerequisite_state(
        self, operation_name: str, state: _StateChangeState
    ) -> NoReturn:
        if state is SessionTransactionState.DEACTIVE:
            if self._rollback_exception:
>               raise sa_exc.PendingRollbackError(
                    "This Session's transaction has been rolled back "
                    "due to a previous exception during flush."
                    " To begin a new transaction with this Session, "
                    "first issue Session.rollback()."
                    f" Original exception was: {self._rollback_exception}",
                    code="7s2a",
                )
E               sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
E               DETAIL:  Key (name)=(administration-access) already exists.
E               
E               [SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
E               [parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
E               (Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)

.venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py:971: PendingRollbackError
=================================== FAILURES ===================================
__________________________ test_access_grant_for_role __________________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="13" auth_type="None" provides={Need(method='role', ...ices.records.results.RecordItem object at 0x7fe791a514f0>}, moderator_role=<Role de229b55-140f-4283-9598-f3e07df8ab99>)
client = <FlaskClient <Flask 'invenio'>>, users = [<User 14>, <User 15>]
roles = [<Role e9cf8ed3-9ed1-4b11-b6d3-95c098cc08a8>, <Role 794a76fd-061f-4c0d-bc56-0f664da7491a>]
minimal_restricted_record = {'access': {'files': 'restricted', 'record': 'restricted'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'p...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}

    def test_access_grant_for_role(
        running_app,
        client,
        users,
        roles,
        minimal_restricted_record,
    ):
        """Test whether we can grant access permissions to groups of users."""
        # Log in a user (wo we need to add to a group)
        user, role = users[-1], roles[-1]
        current_datastore.add_role_to_user(user, role)
        db.session.commit()
        login_user(user)
        login_user_via_session(client, email=user.email)
    
        # Create a restricted record
        draft = service.create(identity=system_identity, data=minimal_restricted_record)
        record = service.publish(identity=system_identity, id_=draft.id)
    
        response = client.get(f"/records/{record.id}")
        assert response.status_code == 403
    
        # Grant access to users with a specific role (i.e. in a specific group)
>       service.access.bulk_create_grants(
            identity=system_identity,
            id_=record.id,
            data={
                "grants": [
                    {
                        "subject": {
                            "type": "role",
                            "id": str(role.name),
                        },
                        "permission": "view",
                    }
                ]
            },
        )

tests/resources/test_access_requests.py:340: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe793b6d190>
identity = <Identity id="system" auth_type="None" provides={Need(method='system_role', value='system_process')}>
id_ = 'nfg7n-b8285'
data = {'grants': [{'permission': 'view', 'subject': {'id': 'strong', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe79bf76510>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:15:02,525] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:15:02,525] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
[2026-02-17 08:15:02,556] DEBUG in errors: A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
DEBUG    invenio:errors.py:38 A resource error handler caught the following exception:
Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 384, in read
    self.require_permission(identity, action, record=record)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py", line 51, in require_permission
    raise PermissionDeniedError(action_name)
invenio_records_resources.services.errors.PermissionDeniedError: read

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/resources.py", line 65, in view
    return view_meth()
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/content_negotiation.py", line 116, in inner_content_negotiation
    return f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/parsers/decorators.py", line 51, in inner
    return f(self, *args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 49, in inner
    response = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_resources/responses.py", line 39, in inner
    res = f(*args, **kwargs)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/resources/resources.py", line 142, in read
    item = self.service.read(
        g.identity,
    ...<3 lines>...
        include_deleted=resource_requestctx.args.get("include_deleted", False),
    )
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/services.py", line 673, in read
    result = super().read(identity, id_, expand=expand)
  File "/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records_resources/services/records/service.py", line 386, in read
    raise RecordPermissionDeniedError(action_name=action, record=record)
invenio_records_resources.services.errors.RecordPermissionDeniedError
____________________________ test_zip_file_listing _____________________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="1" auth_type="None" provides={Need(method='role', v...ices.records.results.RecordItem object at 0x7fe785e2fb10>}, moderator_role=<Role 84f263ff-ee2b-4e1f-af5d-6fd758a83501>)
db = <SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio>
location = pytest-location
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
identity_simple = <Identity id="2" auth_type="None" provides={Need(method='system_role', value='authenticated_user'), Need(method='system_role', value='any_user'), Need(method='id', value=2)}>
search_clear = <OpenSearch([{'host': 'localhost', 'port': 9200}])>

    def test_zip_file_listing(
        running_app, db, location, minimal_record, identity_simple, search_clear
    ):
        """Test setting file metadata."""
        data = minimal_record.copy()
        data["files"] = {"enabled": True}
        data["media_files"] = {"enabled": True}
        service = current_rdm_records_service
    
        file_service = service.files
    
        # Create
        draft = service.create(identity_simple, data)
    
        # Initialize files and add valid metadata
        metadata = {
            "type": "zip",
        }
        service.draft_files.init_files(
            identity_simple,
            draft.id,
            data=[{"key": "test.zip", "metadata": metadata, "access": {"hidden": False}}],
        )
    
        zip_path = Path(__file__).parent.parent / "data" / "test_zip.zip"
        with open(zip_path, "rb") as f:
            service.draft_files.set_file_content(identity_simple, draft.id, "test.zip", f)
    
        service.draft_files.commit_file(identity_simple, draft.id, "test.zip")
    
        # Publish the record
>       record = service.publish(identity_simple, draft.id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/files/test_zip_listing_extraction.py:50: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_rdm_records/services/services.py:530: in publish
    return super().publish(identity, id_, uow=uow, expand=expand)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/invenio_db/uow.py:255: in inner
    return f(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.14/site-packages/invenio_drafts_resources/services/records/service.py:418: in publish
    self.run_components("publish", identity, draft=draft, record=record, uow=uow)
.venv/lib/python3.14/site-packages/invenio_records_resources/services/base/service.py:72: in run_components
    getattr(component, action)(*args, **kwargs)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_records_resources.services.base.config.Custom_DraftMediaFilesComponent object at 0x7fe783cdcd10>
identity = <Identity id="2" auth_type="None" provides={Need(method='system_role', value='authenticated_user'), Need(method='system_role', value='any_user'), Need(method='id', value=2)}>
draft = {'id': 'det0m-5m848', 'pid': {'pk': 21, 'status': 'N', 'obj_type': 'rec', 'pid_type': 'recid'}, 'pids': {}, 'files': {...hoto'}, 'publication_date': '2020-06-01'}, 'media_files': {'enabled': True}, 'custom_fields': {}, 'internal_notes': []}
record = {'$schema': 'local://records/record-v6.0.0.json', 'pid': {'pk': 21, 'pid_type': 'recid', 'status': 'N', 'obj_type': 'r...publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, 'publication_date': '2020-06-01'}, 'custom_fields': {}}

    def publish(self, identity, draft=None, record=None):
        """Copy bucket and files to record."""
        draft_files = self.get_record_files(draft)
        record_bucket_id = self.get_record_bucket_id(record)
    
        if draft_files.enabled and draft_files.bucket:
            if not draft_files.items():
>               raise ValidationError(
                    _(
                        "Missing uploaded files. To disable files for "
                        "this record please mark it as metadata-only."
                    ),
                    field_name=f"{self.files_data_key}.enabled",
                )
E               marshmallow.exceptions.ValidationError: Missing uploaded files. To disable files for this record please mark it as metadata-only.

.venv/lib/python3.14/site-packages/invenio_drafts_resources/services/records/components/base.py:253: ValidationError
---------------------------- Captured stderr setup -----------------------------
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
[2026-02-17 08:20:43,073] DEBUG in ext: Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
Flask-DebugToolbar extension not installed.
------------------------------ Captured log setup ------------------------------
DEBUG    invenio:ext.py:99 Flask-DebugToolbar extension not installed.
________________ test_cant_create_multiple_grants_for_same_role ________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="4" auth_type="None" provides={Need(method='role', v...ices.records.results.RecordItem object at 0x7fe78f8053b0>}, moderator_role=<Role 9171e539-306a-43a4-8cc5-c0cefc64ee77>)
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
roles = [<Role 32512585-ea4d-4ad1-8570-b3d6f7a16203>, <Role 6b849a75-8f1d-419b-aa61-aa8f825254fa>]

    def test_cant_create_multiple_grants_for_same_role(running_app, minimal_record, roles):
        """Test that grant for the same record can not be created more than 1 time for a certain role."""
        # create record
        superuser_identity = running_app.superuser_identity
        records_service = current_rdm_records.records_service
        draft = records_service.create(superuser_identity, minimal_record)
        record = records_service.publish(superuser_identity, draft.id)
    
        # create grant
        access_service = records_service.access
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "role", "id": "test"},
                    "permission": "preview",
                }
            ]
        }
>       grant = access_service.bulk_create_grants(
            superuser_identity, record.id, grant_payload
        )

tests/services/test_service_access.py:78: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe77aa4ab10>
identity = <Identity id="4" auth_type="None" provides={Need(method='role', value='administration-access'), Need(method='system_ro...'role', value='superuser-access'), Need(method='system_role', value='authenticated_user'), Need(method='id', value=4)}>
id_ = 'nx4bk-eb007'
data = {'grants': [{'permission': 'preview', 'subject': {'id': 'test', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe7795d7590>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:24:02,874] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:24:02,875] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
__________________ test_read_grant_by_subjectid_provide_role ___________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="20" auth_type="None" provides={Need(method='role', ...ices.records.results.RecordItem object at 0x7fe78f8053b0>}, moderator_role=<Role 9171e539-306a-43a4-8cc5-c0cefc64ee77>)
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
roles = [<Role aac72bb3-a6a9-4d17-80ab-a6a86b8a25d7>, <Role 41bb0de7-5618-4db0-bed3-a5f83fa682b7>]

    def test_read_grant_by_subjectid_provide_role(running_app, minimal_record, roles):
        """Test read grant by user id while searching by role"""
        # create record
        superuser_identity = running_app.superuser_identity
        records_service = current_rdm_records.records_service
        draft = records_service.create(superuser_identity, minimal_record)
        record = records_service.publish(superuser_identity, draft.id)
    
        # create grant for role "test"
        subject_type = "user"
        access_service = records_service.access
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "role", "id": "test"},
                    "permission": "preview",
                }
            ]
        }
>       access_service.bulk_create_grants(superuser_identity, record.id, grant_payload)

tests/services/test_service_access.py:315: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe77aa4ab10>
identity = <Identity id="20" auth_type="None" provides={Need(method='role', value='administration-access'), Need(method='system_r...role', value='superuser-access'), Need(method='system_role', value='authenticated_user'), Need(method='id', value=20)}>
id_ = '01k98-0je68'
data = {'grants': [{'permission': 'preview', 'subject': {'id': 'test', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe778e76a50>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:24:07,982] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:24:07,983] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
_________________ test_delete_grant_by_subjectid_provide_role __________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="30" auth_type="None" provides={Need(method='role', ...ices.records.results.RecordItem object at 0x7fe78f8053b0>}, moderator_role=<Role 9171e539-306a-43a4-8cc5-c0cefc64ee77>)
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
roles = [<Role 5a35f94e-4d20-4b35-9dae-ceb4f765d96e>, <Role c7188d4e-7588-4c23-bfb3-bebb1846480e>]

    def test_delete_grant_by_subjectid_provide_role(running_app, minimal_record, roles):
        """Test delete grant by user id while searching by role"""
        # create record
        superuser_identity = running_app.superuser_identity
        records_service = current_rdm_records.records_service
        draft = records_service.create(superuser_identity, minimal_record)
        record = records_service.publish(superuser_identity, draft.id)
    
        # create grant for role "test"
        subject_type = "user"
        access_service = records_service.access
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "role", "id": "test"},
                    "permission": "preview",
                }
            ]
        }
>       access_service.bulk_create_grants(superuser_identity, record.id, grant_payload)

tests/services/test_service_access.py:426: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe77aa4ab10>
identity = <Identity id="30" auth_type="None" provides={Need(method='role', value='administration-access'), Need(method='system_r...role', value='superuser-access'), Need(method='system_role', value='authenticated_user'), Need(method='id', value=30)}>
id_ = 'hjvy0-42t06'
data = {'grants': [{'permission': 'preview', 'subject': {'id': 'test', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe778a42b10>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:24:11,302] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:24:11,302] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
____________________ test_read_all_grants_by_subject_found _____________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="31" auth_type="None" provides={Need(method='role', ...ices.records.results.RecordItem object at 0x7fe78f8053b0>}, moderator_role=<Role 9171e539-306a-43a4-8cc5-c0cefc64ee77>)
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
users = [<User 32>, <User 33>]
roles = [<Role 4b6dad0d-306b-427a-9d69-c4e4a435b964>, <Role bac485d0-954d-4d91-bffa-4156a2ae9ca8>]

    def test_read_all_grants_by_subject_found(running_app, minimal_record, users, roles):
        """Test read user grants."""
        # create record
        superuser_identity = running_app.superuser_identity
        records_service = current_rdm_records.records_service
        draft = records_service.create(superuser_identity, minimal_record)
        record = records_service.publish(superuser_identity, draft.id)
    
        # create user grants
        subject_type = "user"
        access_service = records_service.access
        user_id = str(users[0].id)
        user_id2 = str(users[1].id)
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "user", "id": user_id},
                    "permission": "preview",
                }
            ]
        }
        grant_payload2 = {
            "grants": [
                {
                    "subject": {"type": "user", "id": user_id2},
                    "permission": "preview",
                }
            ]
        }
        access_service.bulk_create_grants(superuser_identity, record.id, grant_payload)
        access_service.bulk_create_grants(superuser_identity, record.id, grant_payload2)
    
        # create role grants
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "role", "id": "test"},
                    "permission": "preview",
                }
            ]
        }
>       access_service.bulk_create_grants(superuser_identity, record.id, grant_payload)

tests/services/test_service_access.py:477: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe77aa4ab10>
identity = <Identity id="31" auth_type="None" provides={Need(method='role', value='administration-access'), Need(method='id', val...ue='any_user'), Need(method='role', value='superuser-access'), Need(method='system_role', value='authenticated_user')}>
id_ = 'j12ct-3av72'
data = {'grants': [{'permission': 'preview', 'subject': {'id': 'test', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe77893ef30>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:24:12,110] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:24:12,111] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
__________________ test_read_all_grants_by_subject_not_found ___________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="34" auth_type="None" provides={Need(method='role', ...ices.records.results.RecordItem object at 0x7fe78f8053b0>}, moderator_role=<Role 9171e539-306a-43a4-8cc5-c0cefc64ee77>)
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
users = [<User 35>, <User 36>]
roles = [<Role 998904df-f511-4ce0-9e91-dba2b836d5d1>, <Role 9700a54a-b57d-42d4-bef8-18b4eb36dff4>]

    def test_read_all_grants_by_subject_not_found(
        running_app, minimal_record, users, roles
    ):
        """Test read user grants. Not found."""
        # create record
        superuser_identity = running_app.superuser_identity
        records_service = current_rdm_records.records_service
        draft = records_service.create(superuser_identity, minimal_record)
        record = records_service.publish(superuser_identity, draft.id)
        access_service = records_service.access
    
        # create role grants
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "role", "id": "test"},
                    "permission": "preview",
                }
            ]
        }
>       access_service.bulk_create_grants(superuser_identity, record.id, grant_payload)

tests/services/test_service_access.py:510: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe77aa4ab10>
identity = <Identity id="34" auth_type="None" provides={Need(method='role', value='administration-access'), Need(method='id', val...ue='any_user'), Need(method='role', value='superuser-access'), Need(method='system_role', value='authenticated_user')}>
id_ = 'g8672-6p745'
data = {'grants': [{'permission': 'preview', 'subject': {'id': 'test', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe77886f0b0>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:24:13,022] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:24:13,022] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
____________________ test_update_grant_by_subject_not_found ____________________

running_app = RunningApp(app=<Flask 'invenio'>, superuser_identity=<Identity id="40" auth_type="None" provides={Need(method='role', ...ices.records.results.RecordItem object at 0x7fe78f8053b0>}, moderator_role=<Role 9171e539-306a-43a4-8cc5-c0cefc64ee77>)
minimal_record = {'access': {'files': 'public', 'record': 'public'}, 'files': {'enabled': False}, 'metadata': {'creators': [{'person_or...], 'publication_date': '2020-06-01', 'publisher': 'Acme Inc', 'resource_type': {'id': 'image-photo'}, ...}, 'pids': {}}
roles = [<Role bb314119-19fd-448e-b8bf-47eeed5f55f0>, <Role 03790c6c-8477-478b-a769-01a7d60a6516>]

    def test_update_grant_by_subject_not_found(running_app, minimal_record, roles):
        """Test partial update of user grant. Not found."""
        # create record
        superuser_identity = running_app.superuser_identity
        records_service = current_rdm_records.records_service
        draft = records_service.create(superuser_identity, minimal_record)
        record = records_service.publish(superuser_identity, draft.id)
    
        # create role grant
        access_service = records_service.access
        grant_payload = {
            "grants": [
                {
                    "subject": {"type": "role", "id": "test"},
                    "permission": "preview",
                    "origin": "origin",
                }
            ]
        }
>       access_service.bulk_create_grants(superuser_identity, record.id, grant_payload)

tests/services/test_service_access.py:580: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.14/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <invenio_rdm_records.services.access.service.RecordAccessService object at 0x7fe77aa4ab10>
identity = <Identity id="40" auth_type="None" provides={Need(method='role', value='administration-access'), Need(method='system_r...role', value='superuser-access'), Need(method='id', value=40), Need(method='system_role', value='authenticated_user')}>
id_ = 'apry3-9h358'
data = {'grants': [{'origin': 'origin', 'permission': 'preview', 'subject': {'id': 'test', 'type': 'role'}}]}
expand = False, uow = <invenio_db.uow.UnitOfWork object at 0x7fe7787032f0>

    @unit_of_work()
    def bulk_create_grants(self, identity, id_, data, expand=False, uow=None):
        """Bulk create access grants for a record (resp. its parent)."""
        record, parent = self.get_parent_and_record_or_draft(id_)
    
        # Permissions
        self.require_permission(identity, "manage", record=record)
    
        # Validation
        data, __ = self.schema_grants.load(
            data, context={"identity": identity}, raise_errors=True
        )
    
        grants = data["grants"]
    
        new_grants = []
    
        # fail if any of the grants already exist
        if any(
            existing_grant.subject_id == grant["subject"]["id"]
            and existing_grant.subject_type == grant["subject"]["type"]
            for existing_grant in parent.access.grants
            for grant in grants
        ):
            raise GrantExistsError()
    
        for grant in grants:
            # checks if groups are enabled in the instance
            if (
                not current_app.config.get("USERS_RESOURCES_GROUPS_ENABLED", False)
                and grant["subject"]["type"] == RecordAccessService.group_subject_type
            ):
                raise PermissionDeniedError()
    
            # Creation
            new_grant = parent.access.grants.create(
                subject_type=grant["subject"]["type"],
                subject_id=grant["subject"]["id"],
                permission=grant["permission"],
                origin=grant.get("origin"),
            )
    
            if not self._validate_grant_subject(identity, new_grant):
>               raise ValidationError(
                    _("Could not find the specified subject."), field_name="subject.id"
                )
E               marshmallow.exceptions.ValidationError: Could not find the specified subject.

invenio_rdm_records/services/access/service.py:430: ValidationError
----------------------------- Captured stderr call -----------------------------
'record-view'
'record-view'
[2026-02-17 08:24:14,681] WARNING in api: 'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-view'
'record-download'
'record-download'
[2026-02-17 08:24:14,681] WARNING in api: 'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
'record-download'
------------------------------ Captured log call -------------------------------
WARNING  invenio:api.py:38 'record-view'
WARNING  invenio:api.py:54 'record-download'
=============================== warnings summary ===============================
.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:9
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:9: PyparsingDeprecationWarning: 'enablePackrat' deprecated - use 'enable_packrat'
    pyparsing.ParserElement.enablePackrat()

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:52
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:52: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru12 = oneOf(["%.2d" % i for i in range(1, 13)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:53
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:53: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru13 = oneOf(["%.2d" % i for i in range(1, 14)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:54
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:54: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru23 = oneOf(["%.2d" % i for i in range(1, 24)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:55
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:55: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    zeroThru23 = oneOf(["%.2d" % i for i in range(0, 24)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:56
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:56: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru29 = oneOf(["%.2d" % i for i in range(1, 30)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:57
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:57: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru30 = oneOf(["%.2d" % i for i in range(1, 31)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:58
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:58: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru31 = oneOf(["%.2d" % i for i in range(1, 32)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:59
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:59: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    oneThru59 = oneOf(["%.2d" % i for i in range(1, 60)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:60
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:60: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    zeroThru59 = oneOf(["%.2d" % i for i in range(0, 60)])

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:63
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:63: PyparsingDeprecationWarning: 'excludeChars' argument is deprecated, use 'exclude_chars'
    positiveDigit = Word(nums, exact=1, excludeChars="0")

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:73
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:73: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    (oneOf("01 03 05 07 08 10 12")("month") + "-" + oneThru31("day"))

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:74
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:74: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    ^ (oneOf("04 06 09 11")("month") + "-" + oneThru30("day"))

.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py:103: 19 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/parser_classes.py:103: PyparsingDeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'
    p.addParseAction(cls.parse_action)

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:119
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:119: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    UASymbol = Combine(oneOf("? ~ %"))

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:122
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:122: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    seasonNumber = oneOf("21 22 23 24")

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:155
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:155: PyparsingDeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'
    l1Start.addParseAction(f)

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:157
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:157: PyparsingDeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'
    l1End.addParseAction(f)

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:199
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:199: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    monthWithX = Combine(oneOf("0X 1X") ^ ("X" + digitOrX))("month")

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:303
.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:303
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:303: PyparsingDeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'
    earlier = L("..").addParseAction(f)("lower") + date("upper").addParseAction(f)

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:304
.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:304
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:304: PyparsingDeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'
    later = date("lower").addParseAction(f) + L("..").addParseAction(f)("upper")

.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:325
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:325: PyparsingDeprecationWarning: 'oneOf' deprecated - use 'one_of'
    seasonL2Number = oneOf("21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41")

invenio_rdm_records/config.py:16
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/config.py:16: DeprecationWarning: Implicit imports (e.g., 'import idutils; idutils.function;') might be removed in the next major version. Please use explicit imports (e.g., 'from idutils import function;') instead.
    import idutils

invenio_rdm_records/services/facets.py:75
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/services/facets.py:75: DeprecationWarning: subject_nested is deprecated. Use subject_combined instead.
    warn(

.venv/lib/python3.14/site-packages/webargs/compat.py:8
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/webargs/compat.py:8: DeprecationWarning: The '__version__' attribute is deprecated and will be removed in in a future version. Use feature detection or 'importlib.metadata.version("marshmallow")' instead.
    MARSHMALLOW_VERSION_INFO = tuple(LooseVersion(ma.__version__).version)  # type: tuple

.venv/lib/python3.14/site-packages/webargs/compat.py:8
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/webargs/compat.py:8: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    MARSHMALLOW_VERSION_INFO = tuple(LooseVersion(ma.__version__).version)  # type: tuple

.venv/lib/python3.14/site-packages/webargs/__init__.py:13
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/webargs/__init__.py:13: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    __version_info__ = tuple(LooseVersion(__version__).version)

.venv/lib/python3.14/site-packages/datacite/jsonutils.py:15
.venv/lib/python3.14/site-packages/datacite/jsonutils.py:15
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/datacite/jsonutils.py:15: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
    from jsonschema import RefResolver, validate

.venv/lib/python3.14/site-packages/tripoli/resource_validators/base_validator.py:611
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/tripoli/resource_validators/base_validator.py:611: SyntaxWarning: 'return' in a 'finally' block
    return value

tests/contrib/codemeta/test_codemeta_custom_fields.py: 3 warnings
tests/fixtures/test_cli.py: 2 warnings
tests/fixtures/test_fixtures.py: 1 warning
tests/oaiserver/test_oaipmh.py: 1 warning
tests/records/dumpers/test_combined_subjects_dumper.py: 1 warning
tests/records/dumpers/test_edtf_dumpers.py: 9 warnings
tests/records/dumpers/test_files_dumpers.py: 1 warning
tests/records/dumpers/test_location_dumpers.py: 4 warnings
tests/records/dumpers/test_pids_dumper.py: 1 warning
tests/records/systemfields/test_access_systemfield.py: 6 warnings
tests/records/systemfields/test_permission_flags.py: 3 warnings
tests/records/systemfields/test_tombstone.py: 1 warning
tests/records/test_quotas.py: 1 warning
tests/records/test_records_communities.py: 1 warning
tests/requests/test_record_deletion.py: 4 warnings
tests/requests/test_user_moderation_actions.py: 3 warnings
tests/resources/serializers/test_csl_serializer.py: 2 warnings
tests/resources/serializers/test_marcxml_serializer.py: 1 warning
tests/resources/test_access_requests.py: 5 warnings
tests/resources/test_draft_file_permissions.py: 1 warning
tests/resources/test_files.py: 5 warnings
tests/resources/test_iiif_image_api.py: 6 warnings
tests/resources/test_iiif_presentation_api.py: 5 warnings
tests/resources/test_media_files.py: 1 warning
tests/resources/test_record_file_permissions.py: 8 warnings
tests/resources/test_request_deletion.py: 4 warnings
tests/resources/test_resources.py: 12 warnings
tests/resources/test_resources_communities.py: 27 warnings
tests/resources/test_resources_community_records.py: 3 warnings
tests/resources/test_resources_pids.py: 4 warnings
tests/resources/test_resources_record_communities.py: 2 warnings
tests/resources/test_resources_review.py: 1 warning
tests/resources/test_resources_search.py: 1 warning
tests/resources/test_serialized_links.py: 3 warnings
tests/resources/test_signposting.py: 3 warnings
tests/secret_links/test_sharing.py: 3 warnings
tests/services/components/test_access_component.py: 2 warnings
tests/services/components/test_internal_notes_component.py: 1 warning
tests/services/components/test_metadata_component.py: 1 warning
tests/services/components/test_pids_component.py: 5 warnings
tests/services/components/test_relations_component.py: 1 warning
tests/services/components/test_signal_component.py: 1 warning
tests/services/components/test_verified_component.py: 2 warnings
tests/services/files/test_deleted_record_files.py: 1 warning
tests/services/files/test_metadata_files.py: 1 warning
tests/services/files/test_revert_of_deleted_files_in_published_record.py: 1 warning
tests/services/files/test_zip_listing_extraction.py: 1 warning
tests/services/pids/providers/test_datacite_pid_provider.py: 5 warnings
tests/services/pids/providers/test_external_pid_provider.py: 5 warnings
tests/services/pids/providers/test_oai_invenio_pid_provider.py: 1 warning
tests/services/pids/test_pids_service.py: 14 warnings
tests/services/pids/test_pids_tasks.py: 7 warnings
tests/services/test_deletion_policy.py: 5 warnings
tests/services/test_generators.py: 1 warning
tests/services/test_permissions_policy.py: 1 warning
tests/services/test_rdm_service.py: 16 warnings
tests/services/test_record_deletion.py: 3 warnings
tests/services/test_record_deletion_request.py: 8 warnings
tests/services/test_service_access.py: 18 warnings
tests/services/test_service_communities.py: 3 warnings
tests/services/test_service_community_records.py: 7 warnings
tests/services/test_service_record_communities.py: 8 warnings
tests/services/test_service_review.py: 7 warnings
tests/services/test_service_tasks.py: 3 warnings
tests/services/test_sort.py: 1 warning
tests/tokens/test_resource_access.py: 11 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:334: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/contrib/codemeta/test_codemeta_custom_fields.py: 3 warnings
tests/fixtures/test_cli.py: 2 warnings
tests/fixtures/test_fixtures.py: 1 warning
tests/oaiserver/test_oaipmh.py: 1 warning
tests/records/dumpers/test_files_dumpers.py: 1 warning
tests/records/systemfields/test_permission_flags.py: 1 warning
tests/records/test_quotas.py: 1 warning
tests/requests/test_record_deletion.py: 4 warnings
tests/requests/test_user_moderation_actions.py: 3 warnings
tests/resources/serializers/test_csl_serializer.py: 2 warnings
tests/resources/serializers/test_marcxml_serializer.py: 1 warning
tests/resources/test_access_requests.py: 5 warnings
tests/resources/test_draft_file_permissions.py: 1 warning
tests/resources/test_files.py: 5 warnings
tests/resources/test_iiif_image_api.py: 6 warnings
tests/resources/test_iiif_presentation_api.py: 5 warnings
tests/resources/test_media_files.py: 1 warning
tests/resources/test_record_file_permissions.py: 8 warnings
tests/resources/test_request_deletion.py: 4 warnings
tests/resources/test_resources.py: 12 warnings
tests/resources/test_resources_communities.py: 27 warnings
tests/resources/test_resources_community_records.py: 3 warnings
tests/resources/test_resources_pids.py: 3 warnings
tests/resources/test_resources_record_communities.py: 2 warnings
tests/resources/test_resources_review.py: 1 warning
tests/resources/test_resources_search.py: 1 warning
tests/resources/test_serialized_links.py: 3 warnings
tests/resources/test_signposting.py: 3 warnings
tests/secret_links/test_sharing.py: 3 warnings
tests/services/components/test_relations_component.py: 1 warning
tests/services/components/test_signal_component.py: 1 warning
tests/services/components/test_verified_component.py: 2 warnings
tests/services/files/test_deleted_record_files.py: 1 warning
tests/services/files/test_metadata_files.py: 1 warning
tests/services/files/test_revert_of_deleted_files_in_published_record.py: 1 warning
tests/services/pids/providers/test_datacite_pid_provider.py: 3 warnings
tests/services/pids/test_pids_service.py: 14 warnings
tests/services/pids/test_pids_tasks.py: 5 warnings
tests/services/test_deletion_policy.py: 5 warnings
tests/services/test_rdm_service.py: 16 warnings
tests/services/test_record_deletion.py: 3 warnings
tests/services/test_record_deletion_request.py: 8 warnings
tests/services/test_service_access.py: 18 warnings
tests/services/test_service_communities.py: 3 warnings
tests/services/test_service_community_records.py: 7 warnings
tests/services/test_service_record_communities.py: 8 warnings
tests/services/test_service_review.py: 6 warnings
tests/services/test_service_tasks.py: 3 warnings
tests/services/test_sort.py: 1 warning
tests/tokens/test_resource_access.py: 11 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py:193: SAWarning: nested transaction already deassociated from connection
    self.session.commit()

tests/fixtures/load_error/test_vocabularies_load_error.py: 1 warning
tests/fixtures/test_cli.py: 1 warning
tests/fixtures/test_fixtures.py: 1 warning
tests/oaiserver/test_oaipmh.py: 1 warning
tests/records/dumpers/test_access_dumpers.py: 1 warning
tests/records/dumpers/test_combined_subjects_dumper.py: 1 warning
tests/records/dumpers/test_edtf_dumpers.py: 1 warning
tests/records/dumpers/test_files_dumpers.py: 1 warning
tests/records/dumpers/test_location_dumpers.py: 1 warning
tests/records/dumpers/test_pids_dumper.py: 1 warning
tests/records/systemfields/test_access_systemfield.py: 1 warning
tests/records/systemfields/test_permission_flags.py: 1 warning
tests/records/systemfields/test_tombstone.py: 1 warning
tests/records/test_api.py: 1 warning
tests/records/test_jsonschema.py: 1 warning
tests/records/test_quotas.py: 1 warning
tests/records/test_records_communities.py: 1 warning
tests/records/test_relations_affiliations.py: 1 warning
tests/records/test_relations_languages.py: 1 warning
tests/records/test_relations_resource_types.py: 1 warning
tests/records/test_relations_subjects.py: 1 warning
tests/requests/test_record_deletion.py: 1 warning
tests/requests/test_user_moderation_actions.py: 1 warning
tests/resources/serializers/test_bibtex_serializer.py: 1 warning
tests/resources/serializers/test_cff_serializer.py: 1 warning
tests/resources/serializers/test_csl_serializer.py: 1 warning
tests/resources/serializers/test_datacite43_serializer.py: 1 warning
tests/resources/serializers/test_datacite45_serializer.py: 1 warning
tests/resources/serializers/test_dcat_serializer.py: 1 warning
tests/resources/serializers/test_dublincore_serializer.py: 1 warning
tests/resources/serializers/test_marcxml_serializer.py: 1 warning
tests/resources/serializers/test_schemaorg_serializer.py: 1 warning
tests/resources/serializers/test_signposting_serializer.py: 1 warning
tests/resources/serializers/test_ui_serializer.py: 1 warning
tests/resources/test_access_requests.py: 1 warning
tests/resources/test_draft_file_permissions.py: 1 warning
tests/resources/test_files.py: 1 warning
tests/resources/test_iiif_image_api.py: 1 warning
tests/resources/test_iiif_presentation_api.py: 1 warning
tests/resources/test_media_files.py: 1 warning
tests/resources/test_publish_errors.py: 1 warning
tests/resources/test_record_file_permissions.py: 1 warning
tests/resources/test_request_deletion.py: 1 warning
tests/resources/test_resources.py: 1 warning
tests/resources/test_resources_communities.py: 1 warning
tests/resources/test_resources_community_records.py: 1 warning
tests/resources/test_resources_oai.py: 1 warning
tests/resources/test_resources_pids.py: 1 warning
tests/resources/test_resources_record_communities.py: 1 warning
tests/resources/test_resources_review.py: 1 warning
tests/resources/test_resources_search.py: 1 warning
tests/resources/test_resources_user_access.py: 1 warning
tests/resources/test_rocrate.py: 1 warning
tests/resources/test_serialized_links.py: 1 warning
tests/resources/test_signposting.py: 1 warning
tests/resources/vocabularies/test_affiliations_vocabulary.py: 1 warning
tests/resources/vocabularies/test_awards_vocabulary.py: 1 warning
tests/resources/vocabularies/test_funders_vocabulary.py: 1 warning
tests/resources/vocabularies/test_names_vocabulary.py: 1 warning
tests/resources/vocabularies/test_subjects_vocabulary.py: 1 warning
tests/secret_links/test_secret_links.py: 1 warning
tests/secret_links/test_sharing.py: 1 warning
tests/secret_links/test_token_serializers.py: 1 warning
tests/services/components/test_access_component.py: 1 warning
tests/services/components/test_internal_notes_component.py: 1 warning
tests/services/components/test_metadata_component.py: 1 warning
tests/services/components/test_pids_component.py: 1 warning
tests/services/components/test_relations_component.py: 1 warning
tests/services/components/test_signal_component.py: 1 warning
tests/services/components/test_verified_component.py: 1 warning
tests/services/files/test_deleted_record_files.py: 1 warning
tests/services/files/test_metadata_files.py: 1 warning
tests/services/files/test_revert_of_deleted_files_in_published_record.py: 1 warning
tests/services/files/test_zip_listing_extraction.py: 1 warning
tests/services/pids/providers/test_datacite_pid_provider.py: 1 warning
tests/services/pids/providers/test_external_pid_provider.py: 1 warning
tests/services/pids/providers/test_oai_invenio_pid_provider.py: 1 warning
tests/services/pids/test_pids_service.py: 1 warning
tests/services/pids/test_pids_tasks.py: 1 warning
tests/services/schemas/test_creator_contributor.py: 1 warning
tests/services/schemas/test_formats.py: 1 warning
tests/services/schemas/test_funding.py: 1 warning
tests/services/schemas/test_identifier.py: 1 warning
tests/services/schemas/test_languages.py: 1 warning
tests/services/schemas/test_location.py: 1 warning
tests/services/schemas/test_metadata.py: 1 warning
tests/services/schemas/test_publication_date.py: 1 warning
tests/services/schemas/test_rdm_record_schema.py: 1 warning
tests/services/schemas/test_reference.py: 1 warning
tests/services/schemas/test_related_identifier.py: 1 warning
tests/services/schemas/test_rights.py: 1 warning
tests/services/schemas/test_sizes.py: 1 warning
tests/services/schemas/test_version.py: 1 warning
tests/services/test_deletion_policy.py: 1 warning
tests/services/test_generators.py: 1 warning
tests/services/test_oai_service.py: 1 warning
tests/services/test_permissions_policy.py: 1 warning
tests/services/test_rdm_service.py: 1 warning
tests/services/test_record_deletion.py: 1 warning
tests/services/test_record_deletion_request.py: 1 warning
tests/services/test_service_access.py: 1 warning
tests/services/test_service_communities.py: 1 warning
tests/services/test_service_community_records.py: 1 warning
tests/services/test_service_record_communities.py: 1 warning
tests/services/test_service_review.py: 1 warning
tests/services/test_service_tasks.py: 1 warning
tests/services/test_sort.py: 1 warning
tests/test_invenio_rdm_records.py: 1 warning
tests/tokens/test_feature_flag.py: 1 warning
tests/tokens/test_resource_access.py: 1 warning
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py:29: FutureWarning: CSRF validation will be enabled by default in the version 1.3.x
    self.init_app(app)

tests/fixtures/test_cli.py::test_create_fake_demo_draft_record
tests/fixtures/test_cli.py::test_create_fake_demo_inclusion_requests
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/invenio_rdm_records/fixtures/demo.py:161: PyparsingDeprecationWarning: 'parseString' deprecated - use 'parse_string'
    parsed_date = parser.parseString(f_date)[0]

tests/fixtures/test_cli.py: 5 warnings
tests/records/dumpers/test_edtf_dumpers.py: 8 warnings
tests/resources/serializers/test_bibtex_serializer.py: 2 warnings
tests/resources/serializers/test_csl_serializer.py: 1 warning
tests/resources/serializers/test_datacite43_serializer.py: 7 warnings
tests/resources/serializers/test_datacite45_serializer.py: 7 warnings
tests/resources/serializers/test_dcat_serializer.py: 1 warning
tests/resources/serializers/test_schemaorg_serializer.py: 1 warning
tests/resources/serializers/test_ui_serializer.py: 1 warning
tests/resources/test_resources.py: 4 warnings
tests/services/pids/test_pids_tasks.py: 7 warnings
tests/services/schemas/test_dates.py: 3 warnings
tests/services/schemas/test_metadata.py: 1 warning
tests/services/schemas/test_publication_date.py: 9 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/edtf/parser/grammar.py:352: PyparsingDeprecationWarning: 'parseString' deprecated - use 'parse_string'
    p = edtfParser.parseString(input_string.strip(), parseAll)

tests/records/dumpers/test_files_dumpers.py: 1 warning
tests/records/test_records_communities.py: 1 warning
tests/resources/test_resources_communities.py: 4 warnings
tests/resources/test_resources_pids.py: 2 warnings
tests/secret_links/test_sharing.py: 2 warnings
tests/services/pids/test_pids_service.py: 1 warning
tests/services/pids/test_pids_tasks.py: 2 warnings
tests/services/test_rdm_service.py: 6 warnings
tests/services/test_service_community_records.py: 1 warning
tests/services/test_service_tasks.py: 3 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:442: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/records/dumpers/test_location_dumpers.py: 4 warnings
tests/records/systemfields/test_access_systemfield.py: 2 warnings
tests/resources/test_resources_pids.py: 1 warning
tests/services/pids/providers/test_external_pid_provider.py: 3 warnings
tests/services/test_rdm_service.py: 3 warnings
tests/services/test_service_review.py: 1 warning
tests/services/test_sort.py: 1 warning
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/pytest_invenio/fixtures.py:579: SAWarning: nested transaction already deassociated from connection
    self._transaction.rollback(_to_root=False)

tests/records/dumpers/test_pids_dumper.py::test_esdumper_with_externalpidsext
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/records/dumpers/test_pids_dumper.py:37: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/records/test_records_communities.py::test_community_integration
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/records/test_records_communities.py:43: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/resources/test_files.py::test_published_record_files_allow_edit
tests/services/files/test_revert_of_deleted_files_in_published_record.py::test_revert_of_deleted_files_in_published_record
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_files_rest/models.py:719: SAWarning: Object of type <ObjectVersion> not in session, add operation along 'Bucket.objects' will not proceed (This warning originated from the Session 'autoflush' process, which was invoked automatically in response to a user-initiated operation. Consider using ``no_autoflush`` context manager if this warning happened while initializing objects.)
    return db.session.query(cls).filter_by(id=file_id).one_or_none()

tests/resources/test_request_deletion.py::test_request_flow
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_request_deletion.py:57: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/resources/test_resources_communities.py::test_remove_another_community
tests/resources/test_resources_communities.py::test_search_communities
tests/resources/test_resources_communities.py::test_republish_with_mulitple_communities
tests/resources/test_resources_communities.py::test_remove_record_last_community_with_multiple_communities
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/resources/test_resources_communities.py:31: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/resources/test_serialized_links.py::test_draft_links
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/flask_security/utils.py:77: DeprecationWarning: Remember me support has been removed.
    warnings.warn("Remember me support has been removed.", DeprecationWarning)

tests/secret_links/test_sharing.py::test_read_restricted_record_with_secret_link
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/secret_links/test_sharing.py:200: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/services/files/test_revert_of_deleted_files_in_published_record.py::test_revert_of_deleted_files_in_published_record
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:495: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/services/files/test_revert_of_deleted_files_in_published_record.py::test_revert_of_deleted_files_in_published_record
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_records/api.py:548: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/services/files/test_zip_listing_extraction.py::test_zip_file_listing
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py:204: SAWarning: nested transaction already deassociated from connection
    self.session.rollback()

tests/services/test_deletion_policy.py::test_grace_period_policy
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_deletion_policy.py:37: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/services/test_deletion_policy.py::test_deletion_policy_fallback_to_request
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_deletion_policy.py:95: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/services/test_rdm_service.py::test_publish_public_record_versions_no_or_external_doi_managed_doi
tests/services/test_rdm_service.py::test_publish_public_record_versions_managed_doi_external_doi
tests/services/test_rdm_service.py::test_publish_public_record_versions_managed_doi_no_doi
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/invenio_db/uow.py:212: SAWarning: nested transaction already deassociated from connection
    self.session.commit()

tests/services/test_record_deletion_request.py::test_request_deletion_request_only
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_record_deletion_request.py:77: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/services/test_record_deletion_request.py::test_request_deletion_duplicate_prevention
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_record_deletion_request.py:107: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/services/test_record_deletion_request.py::test_request_deletion_invalid_reason
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_record_deletion_request.py:137: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/services/test_service_community_records.py::test_remove_record_of_other_community
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/tests/services/test_service_community_records.py:95: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/tokens/test_resource_access.py::test_rat_validation_failed
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py:153: InsecureKeyLengthWarning: The HMAC key is 10 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
    return self._jws.encode(

tests/tokens/test_resource_access.py::test_rat_validation_failed
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py:371: InsecureKeyLengthWarning: The HMAC key is 10 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
    decoded = self.decode_complete(

tests/tokens/test_resource_access.py: 14 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py:153: InsecureKeyLengthWarning: The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
    return self._jws.encode(

tests/tokens/test_resource_access.py: 11 warnings
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-rdm-records/original/.venv/lib/python3.14/site-packages/jwt/api_jwt.py:371: InsecureKeyLengthWarning: The HMAC key is 9 bytes long, which is below the minimum recommended length of 32 bytes for SHA256. See RFC 7518 Section 3.2.
    decoded = self.decode_complete(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.14.2-final-0 ________________

Name                                                                                            Stmts   Miss  Cover   Missing
-----------------------------------------------------------------------------------------------------------------------------
invenio_rdm_records/__init__.py                                                                     3      0   100%
invenio_rdm_records/access_requests_ui/__init__.py                                                  0      0   100%
invenio_rdm_records/access_requests_ui/views.py                                                    31     19    39%   32-52, 58-64
invenio_rdm_records/administration/__init__.py                                                      0      0   100%
invenio_rdm_records/administration/views/__init__.py                                                0      0   100%
invenio_rdm_records/administration/views/oai.py                                                    52      0   100%
invenio_rdm_records/alembic/0cf260eb8e97_create_table_for_secret_links.py                          13      4    69%   23-32, 42-46
invenio_rdm_records/alembic/4a15e8671f4d_create_rdm_records_tables.py                              30     20    33%   26-269, 279-297
invenio_rdm_records/alembic/8ed1a438601c_migrate_secret_links.py                                    8      1    88%   22
invenio_rdm_records/alembic/9e0ac518b9df_create_records_communities_m2m_table.py                   11      2    82%   23, 54
invenio_rdm_records/alembic/88d1463de5c0_create_parent_record_table.py                             30     20    33%   25-101, 129-146
invenio_rdm_records/alembic/912251a56a49_change_datetime_types.py                                  23     16    30%   25-53, 60-86
invenio_rdm_records/alembic/2186256e8d9b_add_deletion_status_to_rdmrecords.py                      31     22    29%   22-43, 49-74, 79-80
invenio_rdm_records/alembic/1746626978_drop_rdmrecordquota_user_id_unique_.py                       9      2    78%   21, 28
invenio_rdm_records/alembic/__init__.py                                                             0      0   100%
invenio_rdm_records/alembic/a2a6819f14f1_create_files_and_media_files_versioning_.py               26     16    38%   25-137, 148-175
invenio_rdm_records/alembic/a6bfa06b1a6d_add_origin_and_description_to_secret_links.py             12      4    67%   22-26, 34-35
invenio_rdm_records/alembic/a3957490361d_remove_pidrelations_tables.py                             14      6    57%   22-26, 32
invenio_rdm_records/alembic/b822ba22c688_create_rdm_records_branch.py                               8      2    75%   20, 25
invenio_rdm_records/alembic/cfcb8cb78708_create_access_request_tokens_table.py                     13      4    69%   23-37, 47-51
invenio_rdm_records/alembic/faf0cefa79a0_create_record_quota_tables.py                             13      4    69%   23-43, 65-66
invenio_rdm_records/alembic/ff9bec971d30_add_indexes.py                                            31     24    23%   21-87, 97-136
invenio_rdm_records/alembic/ff860d48fb4b_create_media_files_table.py                               28     18    36%   25-149, 164-184
invenio_rdm_records/alembic/ffd725001655_add_field_to_record_consent_to_share_.py                  10      2    80%   23, 35
invenio_rdm_records/checks/__init__.py                                                              0      0   100%
invenio_rdm_records/checks/requests.py                                                             72     51    29%   32-45, 53-73, 103-123, 131-152
invenio_rdm_records/cli.py                                                                        187     90    52%   65-66, 89-102, 125-132, 155-162, 185-192, 215-239, 262-275, 282-286, 301-305, 312-344, 372-373, 382-386, 409-411
invenio_rdm_records/config.py                                                                     170      0   100%
invenio_rdm_records/contrib/__init__.py                                                             0      0   100%
invenio_rdm_records/contrib/codemeta/__init__.py                                                    2      0   100%
invenio_rdm_records/contrib/codemeta/custom_fields.py                                              10      0   100%
invenio_rdm_records/contrib/codemeta/processors.py                                                 15     12    20%   17-34
invenio_rdm_records/contrib/imprint/__init__.py                                                     2      0   100%
invenio_rdm_records/contrib/imprint/custom_fields.py                                               15      2    87%   30, 48
invenio_rdm_records/contrib/imprint/processors.py                                                  56     41    27%   26-43, 58-95
invenio_rdm_records/contrib/journal/__init__.py                                                     3      0   100%
invenio_rdm_records/contrib/journal/custom_fields.py                                               15      2    87%   29, 47
invenio_rdm_records/contrib/journal/processors.py                                                 107     60    44%   25-48, 63-88, 116, 121, 139-156, 171-188
invenio_rdm_records/contrib/journal/sort.py                                                         2      0   100%
invenio_rdm_records/contrib/meeting/__init__.py                                                     3      0   100%
invenio_rdm_records/contrib/meeting/custom_fields.py                                               17      2    88%   38, 63
invenio_rdm_records/contrib/meeting/processors.py                                                  31     16    48%   24-37, 52-63
invenio_rdm_records/contrib/meeting/sort.py                                                         2      0   100%
invenio_rdm_records/contrib/thesis/__init__.py                                                      2      0   100%
invenio_rdm_records/contrib/thesis/custom_fields.py                                                14      2    86%   28, 41
invenio_rdm_records/ext.py                                                                        111      3    97%   134, 140, 146
invenio_rdm_records/fixtures/__init__.py                                                           25     12    52%   32, 36-59, 67-71
invenio_rdm_records/fixtures/communities.py                                                        12      0   100%
invenio_rdm_records/fixtures/data/vocabularies/languages.py                                        15      7    53%   34-41, 46-47, 51-52
invenio_rdm_records/fixtures/demo.py                                                              111     18    84%   46-49, 74-85, 99, 116, 345-354
invenio_rdm_records/fixtures/fixture.py                                                            28      8    71%   34, 49-57, 62
invenio_rdm_records/fixtures/records.py                                                             5      0   100%
invenio_rdm_records/fixtures/tasks.py                                                             118     13    89%   58-59, 78, 85-90, 96-99, 165, 217-218
invenio_rdm_records/fixtures/users.py                                                              44      3    93%   81-83
invenio_rdm_records/fixtures/vocabularies.py                                                      212     30    86%   60-71, 75-81, 89-91, 99-103, 192, 399-400
invenio_rdm_records/jobs/__init__.py                                                                0      0   100%
invenio_rdm_records/jobs/jobs.py                                                                    4      0   100%
invenio_rdm_records/notifications/__init__.py                                                       0      0   100%
invenio_rdm_records/notifications/builders.py                                                     151      4    97%   112, 144, 289, 324
invenio_rdm_records/oai.py                                                                         59      6    90%   114-118, 133-135
invenio_rdm_records/oaiserver/__init__.py                                                           0      0   100%
invenio_rdm_records/oaiserver/resources/__init__.py                                                 0      0   100%
invenio_rdm_records/oaiserver/resources/config.py                                                  19      0   100%
invenio_rdm_records/oaiserver/resources/resources.py                                               46      0   100%
invenio_rdm_records/oaiserver/services/__init__.py                                                  0      0   100%
invenio_rdm_records/oaiserver/services/config.py                                                   28      0   100%
invenio_rdm_records/oaiserver/services/errors.py                                                   17      1    94%   42
invenio_rdm_records/oaiserver/services/permissions.py                                               9      0   100%
invenio_rdm_records/oaiserver/services/results.py                                                  59      3    95%   37, 86, 90
invenio_rdm_records/oaiserver/services/schema.py                                                   18      0   100%
invenio_rdm_records/oaiserver/services/services.py                                                115      7    94%   43-45, 51-53, 166
invenio_rdm_records/oaiserver/services/uow.py                                                      14      0   100%
invenio_rdm_records/proxies.py                                                                     14      0   100%
invenio_rdm_records/records/__init__.py                                                             2      0   100%
invenio_rdm_records/records/api.py                                                                137      3    98%   357-361
invenio_rdm_records/records/dumpers/__init__.py                                                     8      0   100%
invenio_rdm_records/records/dumpers/access.py                                                      22      2    91%   50-51
invenio_rdm_records/records/dumpers/combined_subjects.py                                           21      0   100%
invenio_rdm_records/records/dumpers/edtf.py                                                        50      0   100%
invenio_rdm_records/records/dumpers/locations.py                                                   24      0   100%
invenio_rdm_records/records/dumpers/pids.py                                                        17      0   100%
invenio_rdm_records/records/dumpers/statistics.py                                                  21      2    90%   48-49
invenio_rdm_records/records/dumpers/subject_hierarchy.py                                           31     16    48%   71-88, 93-97
invenio_rdm_records/records/jsonschemas/__init__.py                                                 0      0   100%
invenio_rdm_records/records/mappings/__init__.py                                                    0      0   100%
invenio_rdm_records/records/mappings/os-v1/__init__.py                                              0      0   100%
invenio_rdm_records/records/mappings/os-v2/__init__.py                                              0      0   100%
invenio_rdm_records/records/mappings/v7/__init__.py                                                 0      0   100%
invenio_rdm_records/records/models.py                                                              84      1    99%   145
invenio_rdm_records/records/processors/base.py                                                      8      3    62%   16, 20, 25
invenio_rdm_records/records/processors/tiles.py                                                    74     53    28%   27, 47, 52, 57-59, 63-82, 92-142, 152-183
invenio_rdm_records/records/stats/__init__.py                                                       2      0   100%
invenio_rdm_records/records/stats/api.py                                                           25      3    88%   25, 32, 48
invenio_rdm_records/records/stats/templates/__init__.py                                             0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/__init__.py                                0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_file_download/__init__.py             0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_file_download/os-v1/__init__.py       0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_file_download/os-v2/__init__.py       0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_file_download/v7/__init__.py          0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_record_view/__init__.py               0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_record_view/os-v1/__init__.py         0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_record_view/os-v2/__init__.py         0      0   100%
invenio_rdm_records/records/stats/templates/aggregations/aggr_record_view/v7/__init__.py            0      0   100%
invenio_rdm_records/records/stats/templates/events/__init__.py                                      0      0   100%
invenio_rdm_records/records/stats/templates/events/file_download/__init__.py                        0      0   100%
invenio_rdm_records/records/stats/templates/events/file_download/os-v1/__init__.py                  0      0   100%
invenio_rdm_records/records/stats/templates/events/file_download/os-v2/__init__.py                  0      0   100%
invenio_rdm_records/records/stats/templates/events/file_download/v7/__init__.py                     0      0   100%
invenio_rdm_records/records/stats/templates/events/record_view/__init__.py                          0      0   100%
invenio_rdm_records/records/stats/templates/events/record_view/os-v1/__init__.py                    0      0   100%
invenio_rdm_records/records/stats/templates/events/record_view/os-v2/__init__.py                    0      0   100%
invenio_rdm_records/records/stats/templates/events/record_view/v7/__init__.py                       0      0   100%
invenio_rdm_records/records/systemfields/__init__.py                                                8      0   100%
invenio_rdm_records/records/systemfields/access/__init__.py                                         8      0   100%
invenio_rdm_records/records/systemfields/access/access_settings.py                                 10      1    90%   33
invenio_rdm_records/records/systemfields/access/embargo.py                                         62      9    85%   24, 79-84, 91, 101, 111, 122
invenio_rdm_records/records/systemfields/access/field/__init__.py                                   3      0   100%
invenio_rdm_records/records/systemfields/access/field/parent.py                                   112     20    82%   71, 91, 106-111, 151-152, 157-158, 162-163, 176, 211-218, 231
invenio_rdm_records/records/systemfields/access/field/record.py                                   103      5    95%   127-128, 146, 152-154
invenio_rdm_records/records/systemfields/access/grants.py                                         124     14    89%   48-50, 58, 80, 100, 125, 196, 233, 238, 248, 252, 281-282
invenio_rdm_records/records/systemfields/access/links.py                                           62     13    79%   33, 45, 51, 56, 62, 66, 70, 81, 97-98, 102-105
invenio_rdm_records/records/systemfields/access/owners.py                                          50     10    80%   33, 41, 65, 78, 82-85, 89, 93, 97
invenio_rdm_records/records/systemfields/access/protection.py                                      44      5    89%   63-64, 74, 82, 88
invenio_rdm_records/records/systemfields/deletion_status.py                                        61      4    93%   58, 62, 71, 79
invenio_rdm_records/records/systemfields/draft_status.py                                           28      3    89%   80-89
invenio_rdm_records/records/systemfields/has_draftcheck.py                                         21      0   100%
invenio_rdm_records/records/systemfields/is_verified.py                                            12      0   100%
invenio_rdm_records/records/systemfields/statistics.py                                             27      2    93%   36-37
invenio_rdm_records/records/systemfields/tombstone.py                                             126      8    94%   45, 135, 166, 175, 181, 223, 229-230
invenio_rdm_records/requests/__init__.py                                                            6      0   100%
invenio_rdm_records/requests/access/__init__.py                                                     4      0   100%
invenio_rdm_records/requests/access/models.py                                                      49      3    94%   86, 91, 126
invenio_rdm_records/requests/access/permissions.py                                                  4      0   100%
invenio_rdm_records/requests/access/requests.py                                                   112     18    84%   65-73, 81-87, 95-104, 112-117, 168, 342-349
invenio_rdm_records/requests/access/tasks.py                                                        8      2    75%   22-25
invenio_rdm_records/requests/base.py                                                                6      0   100%
invenio_rdm_records/requests/community_inclusion.py                                                53      2    96%   74, 134
invenio_rdm_records/requests/community_submission.py                                               70      2    97%   75, 217
invenio_rdm_records/requests/decorators.py                                                         18      0   100%
invenio_rdm_records/requests/entity_resolvers.py                                                   91      6    93%   65, 165, 169-170, 178, 210
invenio_rdm_records/requests/file_modification.py                                                  47     15    68%   29-40, 44, 62-68, 108-109, 120
invenio_rdm_records/requests/record_deletion.py                                                    71      5    93%   72, 120-126, 174
invenio_rdm_records/requests/user_moderation/__init__.py                                            2      0   100%
invenio_rdm_records/requests/user_moderation/actions.py                                            28      6    79%   42-43, 67-74
invenio_rdm_records/requests/user_moderation/tasks.py                                              33     13    61%   29, 37, 43-54, 64-66, 72-76
invenio_rdm_records/requests/user_moderation/utils.py                                              20      4    80%   44-47
invenio_rdm_records/resources/__init__.py                                                           4      0   100%
invenio_rdm_records/resources/args.py                                                               8      0   100%
invenio_rdm_records/resources/config.py                                                           132      0   100%
invenio_rdm_records/resources/deserializers/__init__.py                                             2      0   100%
invenio_rdm_records/resources/deserializers/errors.py                                               1      0   100%
invenio_rdm_records/resources/deserializers/rocrate/__init__.py                                    38      0   100%
invenio_rdm_records/resources/deserializers/rocrate/schema.py                                      73      1    99%   140
invenio_rdm_records/resources/errors.py                                                            22      2    91%   48, 53
invenio_rdm_records/resources/iiif.py                                                             165     36    78%   146, 155-157, 201, 210-213, 284, 298, 308, 328, 342-344, 353, 357-372, 387-401
invenio_rdm_records/resources/resources.py                                                        340     34    90%   51, 110-114, 125-132, 151-156, 171, 180-186, 193-199, 247-255, 262-268, 277-282, 377-382, 511-519, 571, 632-638, 663-671, 679-687, 692-697, 705-710
invenio_rdm_records/resources/serializers/__init__.py                                              16      0   100%
invenio_rdm_records/resources/serializers/bibtex/__init__.py                                        9      0   100%
invenio_rdm_records/resources/serializers/bibtex/schema.py                                        166     11    93%   100, 104-105, 111, 304-308, 326, 341
invenio_rdm_records/resources/serializers/bibtex/schema_formats.py                                 27      0   100%
invenio_rdm_records/resources/serializers/cff/__init__.py                                           8      0   100%
invenio_rdm_records/resources/serializers/cff/schema.py                                           148     18    88%   31, 53-60, 108, 122-128, 222, 244
invenio_rdm_records/resources/serializers/codemeta/__init__.py                                      7      1    86%   22
invenio_rdm_records/resources/serializers/codemeta/schema.py                                       34     22    35%   32-53, 57-67
invenio_rdm_records/resources/serializers/csl/__init__.py                                          53      0   100%
invenio_rdm_records/resources/serializers/csl/schema.py                                            75      5    93%   87-88, 103, 117, 126
invenio_rdm_records/resources/serializers/csv/__init__.py                                           4      0   100%
invenio_rdm_records/resources/serializers/datacite/__init__.py                                     19      0   100%
invenio_rdm_records/resources/serializers/datacite/schema.py                                      593     38    94%   119-120, 134, 165, 279-284, 296, 417-432, 441, 464-468, 552-553, 585, 629-637, 767-772, 784, 1030-1031, 1063, 1109-1110
invenio_rdm_records/resources/serializers/datapackage/__init__.py                                   6      0   100%
invenio_rdm_records/resources/serializers/datapackage/schema.py                                    65      0   100%
invenio_rdm_records/resources/serializers/dcat/__init__.py                                        105     13    88%   106-117, 134, 145, 155, 191-199
invenio_rdm_records/resources/serializers/dcat/schema.py                                           45      3    93%   76-77, 93
invenio_rdm_records/resources/serializers/dublincore/__init__.py                                   12      0   100%
invenio_rdm_records/resources/serializers/dublincore/schema.py                                    115      2    98%   71, 96
invenio_rdm_records/resources/serializers/errors.py                                                 2      0   100%
invenio_rdm_records/resources/serializers/geojson/__init__.py                                       6      0   100%
invenio_rdm_records/resources/serializers/geojson/schema.py                                        12      0   100%
invenio_rdm_records/resources/serializers/iiif/__init__.py                                         15      0   100%
invenio_rdm_records/resources/serializers/iiif/schema.py                                           76      0   100%
invenio_rdm_records/resources/serializers/marcxml/__init__.py                                      13      0   100%
invenio_rdm_records/resources/serializers/marcxml/schema.py                                       291     12    96%   163-170, 186-190, 277, 292, 372
invenio_rdm_records/resources/serializers/schemaorg/__init__.py                                     7      0   100%
invenio_rdm_records/resources/serializers/schemaorg/schema.py                                     270     42    84%   40-56, 78, 81, 122, 145, 251-252, 281, 298, 337, 368, 383, 447-448, 469-479, 486-498, 528
invenio_rdm_records/resources/serializers/schemas.py                                               51      6    88%   28-29, 69-73
invenio_rdm_records/resources/serializers/signposting/__init__.py                                  19      0   100%
invenio_rdm_records/resources/serializers/signposting/schema.py                                    97      1    99%   46
invenio_rdm_records/resources/serializers/ui/__init__.py                                            6      0   100%
invenio_rdm_records/resources/serializers/ui/fields.py                                             48      3    94%   73-88
invenio_rdm_records/resources/serializers/ui/schema.py                                            252     79    69%   46, 118, 221-254, 258-278, 282-297, 312-314, 317-318, 321-322, 327, 352-353, 436-448, 457-463
invenio_rdm_records/resources/serializers/utils.py                                                 29      2    93%   58, 67
invenio_rdm_records/resources/stats/__init__.py                                                     2      0   100%
invenio_rdm_records/resources/stats/event_builders.py                                              34     26    24%   34-55, 64-90, 99-107, 112-115, 123-125
invenio_rdm_records/secret_links/__init__.py                                                        3      0   100%
invenio_rdm_records/secret_links/errors.py                                                          5      1    80%   22
invenio_rdm_records/secret_links/models.py                                                         84      3    96%   90, 121, 125
invenio_rdm_records/secret_links/permissions.py                                                     4      0   100%
invenio_rdm_records/secret_links/serializers.py                                                    41      1    98%   75
invenio_rdm_records/secret_links/signals.py                                                         6      0   100%
invenio_rdm_records/services/__init__.py                                                            8      0   100%
invenio_rdm_records/services/access/__init__.py                                                     2      0   100%
invenio_rdm_records/services/access/service.py                                                    357     60    83%   99, 137, 181, 202, 216-217, 300, 344, 378, 419, 459-477, 496-545, 568, 581-604, 624, 630, 662, 673, 762, 766, 779, 836-851, 957-958
invenio_rdm_records/services/communities/__init__.py                                                2      0   100%
invenio_rdm_records/services/communities/components.py                                             24      0   100%
invenio_rdm_records/services/communities/moderation.py                                             40      5    88%   23, 27, 31, 48, 54
invenio_rdm_records/services/communities/service.py                                               178      7    96%   72, 89, 307-308, 314, 378, 479
invenio_rdm_records/services/community_inclusion/__init__.py                                        2      0   100%
invenio_rdm_records/services/community_inclusion/service.py                                        28      2    93%   45, 59
invenio_rdm_records/services/community_records/__init__.py                                          2      0   100%
invenio_rdm_records/services/community_records/service.py                                          51      4    92%   83-84, 141-142
invenio_rdm_records/services/components/__init__.py                                                14      0   100%
invenio_rdm_records/services/components/access.py                                                  36      0   100%
invenio_rdm_records/services/components/custom_fields.py                                            4      0   100%
invenio_rdm_records/services/components/files.py                                                   21      2    90%   50-51
invenio_rdm_records/services/components/internal_notes.py                                          34      1    97%   67
invenio_rdm_records/services/components/metadata.py                                                18      0   100%
invenio_rdm_records/services/components/pids.py                                                   138      0   100%
invenio_rdm_records/services/components/record_deletion.py                                         30      1    97%   53
invenio_rdm_records/services/components/record_files.py                                             8      0   100%
invenio_rdm_records/services/components/review.py                                                  23      0   100%
invenio_rdm_records/services/components/signal.py                                                   6      0   100%
invenio_rdm_records/services/components/verified.py                                                48      2    96%   41, 47
invenio_rdm_records/services/config.py                                                            256      3    99%   296, 316-317
invenio_rdm_records/services/customizations.py                                                     31      0   100%
invenio_rdm_records/services/decorators.py                                                         13      1    92%   27
invenio_rdm_records/services/dummy.py                                                              10      3    70%   16, 32, 36
invenio_rdm_records/services/errors.py                                                             68      6    91%   53, 179, 191, 196-202
invenio_rdm_records/services/facets.py                                                             21      1    95%   98
invenio_rdm_records/services/files/__init__.py                                                      2      0   100%
invenio_rdm_records/services/files/service.py                                                      14      0   100%
invenio_rdm_records/services/generators.py                                                        215     17    92%   62, 75-80, 96, 112, 140, 173, 177, 248, 261, 289, 302, 328, 417
invenio_rdm_records/services/github/__init__.py                                                     0      0   100%
invenio_rdm_records/services/github/metadata.py                                                    83     56    33%   22, 27-29, 41-46, 55-59, 66-68, 84-91, 103-125, 130-143, 148, 152, 156-168, 172-183
invenio_rdm_records/services/github/release.py                                                    116     85    27%   28-30, 41-73, 77-80, 85-92, 96-102, 107-119, 142-208, 217-224, 228, 236-238, 243-244, 249-250
invenio_rdm_records/services/github/utils.py                                                        4      2    50%   17-22
invenio_rdm_records/services/iiif/__init__.py                                                       2      0   100%
invenio_rdm_records/services/iiif/converter.py                                                     63     45    29%   15, 19-21, 31, 36, 44, 61-73, 79-103, 107-119
invenio_rdm_records/services/iiif/service.py                                                       74     26    65%   23-25, 30, 34-36, 91-116, 128
invenio_rdm_records/services/iiif/storage.py                                                       69     40    42%   33-38, 42, 46, 50, 69-75, 79-92, 99, 104-118, 122, 135, 139-152
invenio_rdm_records/services/iiif/tasks.py                                                         31     23    26%   21-34, 44-60
invenio_rdm_records/services/permissions.py                                                        99      0   100%
invenio_rdm_records/services/pids/__init__.py                                                       3      0   100%
invenio_rdm_records/services/pids/errors.py                                                         8      1    88%   31
invenio_rdm_records/services/pids/manager.py                                                      142      8    94%   36-37, 83, 168, 203, 229, 276-277
invenio_rdm_records/services/pids/providers/__init__.py                                             5      0   100%
invenio_rdm_records/services/pids/providers/base.py                                                80      8    90%   41, 46, 85, 102-106, 119
invenio_rdm_records/services/pids/providers/datacite.py                                           145     22    85%   57, 70, 167, 173, 180-186, 212-218, 221, 229-231, 245-251, 296-297
invenio_rdm_records/services/pids/providers/external.py                                            46      2    96%   36, 69
invenio_rdm_records/services/pids/providers/oai.py                                                 15      0   100%
invenio_rdm_records/services/pids/service.py                                                      103     15    85%   84-85, 88, 92-93, 125-131, 143-150, 272
invenio_rdm_records/services/pids/tasks.py                                                          6      0   100%
invenio_rdm_records/services/queryparser.py                                                         5      3    40%   15-17
invenio_rdm_records/services/request_policies.py                                                  105     26    75%   29, 33, 101-102, 108-109, 113-117, 128-130, 134, 171, 182, 205-212, 221-227
invenio_rdm_records/services/requests/__init__.py                                                   2      0   100%
invenio_rdm_records/services/requests/service.py                                                   14      7    50%   25, 38-49
invenio_rdm_records/services/result_items.py                                                      100     16    84%   23-25, 49, 68, 89, 146, 154-156, 164, 193, 214-217
invenio_rdm_records/services/results.py                                                            57     20    65%   33, 37, 41, 45, 58, 62, 66-75, 79, 123-124, 128-137, 141
invenio_rdm_records/services/review/__init__.py                                                     2      0   100%
invenio_rdm_records/services/review/links.py                                                       10      1    90%   20
invenio_rdm_records/services/review/service.py                                                     95      3    97%   65, 136, 162
invenio_rdm_records/services/schemas/__init__.py                                                    4      0   100%
invenio_rdm_records/services/schemas/access.py                                                     41      1    98%   79
invenio_rdm_records/services/schemas/community_records.py                                          21      2    90%   48, 52
invenio_rdm_records/services/schemas/fields.py                                                     21      0   100%
invenio_rdm_records/services/schemas/files.py                                                      52      0   100%
invenio_rdm_records/services/schemas/metadata.py                                                  179      8    96%   143, 210-214, 251, 255
invenio_rdm_records/services/schemas/parent/__init__.py                                            37      2    95%   26-27
invenio_rdm_records/services/schemas/parent/access.py                                              44      0   100%
invenio_rdm_records/services/schemas/parent/communities.py                                          9      0   100%
invenio_rdm_records/services/schemas/pids.py                                                        6      0   100%
invenio_rdm_records/services/schemas/quota.py                                                       6      0   100%
invenio_rdm_records/services/schemas/record.py                                                     69      2    97%   45, 115
invenio_rdm_records/services/schemas/record_communities.py                                         24      0   100%
invenio_rdm_records/services/schemas/stats.py                                                      10      0   100%
invenio_rdm_records/services/schemas/tombstone.py                                                  21      0   100%
invenio_rdm_records/services/schemas/utils.py                                                      17     13    24%   22-38
invenio_rdm_records/services/schemas/versions.py                                                    4      0   100%
invenio_rdm_records/services/search_params.py                                                      45      5    89%   108-112
invenio_rdm_records/services/services.py                                                          303     65    79%   137, 206, 231, 239, 245, 315-352, 357-384, 396-401, 426, 434, 504-508, 594, 631-632, 637, 684, 699-700, 732, 753-757, 792, 827, 836, 844-849, 856-870
invenio_rdm_records/services/signals/__init__.py                                                    2      0   100%
invenio_rdm_records/services/signals/signals.py                                                     4      0   100%
invenio_rdm_records/services/sort.py                                                                8      0   100%
invenio_rdm_records/services/stats/__init__.py                                                      2      0   100%
invenio_rdm_records/services/stats/permissions.py                                                  16      8    50%   21-23, 37, 41, 53-56
invenio_rdm_records/services/tasks.py                                                              54     23    57%   55-57, 64-94
invenio_rdm_records/tokens/__init__.py                                                              3      0   100%
invenio_rdm_records/tokens/errors.py                                                               18      0   100%
invenio_rdm_records/tokens/permissions.py                                                           5      0   100%
invenio_rdm_records/tokens/resource_access.py                                                      41      4    90%   45-46, 79, 90
invenio_rdm_records/tokens/scopes.py                                                                4      0   100%
invenio_rdm_records/utils.py                                                                       90     19    79%   34-54, 76, 114-119, 140-143, 146, 152-153
invenio_rdm_records/views.py                                                                       50      4    92%   77-78, 113-119
invenio_rdm_records/webpack.py                                                                      2      0   100%
-----------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                           12429   1874    85%
=========================== short test summary info ============================
FAILED tests/resources/test_access_requests.py::test_access_grant_for_role - marshmallow.exceptions.ValidationError: Could not find the specified subject.
FAILED tests/services/files/test_zip_listing_extraction.py::test_zip_file_listing - marshmallow.exceptions.ValidationError: Missing uploaded files. To disable files for this record please mark it as metadata-only.
FAILED tests/services/test_service_access.py::test_cant_create_multiple_grants_for_same_role - marshmallow.exceptions.ValidationError: Could not find the specified subject.
FAILED tests/services/test_service_access.py::test_read_grant_by_subjectid_provide_role - marshmallow.exceptions.ValidationError: Could not find the specified subject.
FAILED tests/services/test_service_access.py::test_delete_grant_by_subjectid_provide_role - marshmallow.exceptions.ValidationError: Could not find the specified subject.
FAILED tests/services/test_service_access.py::test_read_all_grants_by_subject_found - marshmallow.exceptions.ValidationError: Could not find the specified subject.
FAILED tests/services/test_service_access.py::test_read_all_grants_by_subject_not_found - marshmallow.exceptions.ValidationError: Could not find the specified subject.
FAILED tests/services/test_service_access.py::test_update_grant_by_subject_not_found - marshmallow.exceptions.ValidationError: Could not find the specified subject.
ERROR tests/services/files/test_zip_listing_extraction.py::test_zip_file_extraction - sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR tests/services/files/test_zip_listing_extraction.py::test_zip_folder_extraction - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
ERROR tests/services/files/test_zip_listing_extraction.py::test_large_zip_folder_extraction - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
ERROR tests/services/files/test_zip_listing_extraction.py::test_large_zip_memory_usage - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
ERROR tests/services/files/test_zip_listing_extraction.py::test_zip_listing_resource - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
ERROR tests/services/files/test_zip_listing_extraction.py::test_zip_file_extract_resource - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
ERROR tests/services/files/test_zip_listing_extraction.py::test_zip_folder_extract_resource - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
ERROR tests/services/files/test_zip_listing_extraction.py::test_zip_folder_extract_resource - sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_accounts_role_name"
DETAIL:  Key (name)=(administration-access) already exists.

[SQL: INSERT INTO accounts_role (id, name, description, is_managed, version_id, created, updated) VALUES (%(id)s, %(name)s, %(description)s, %(is_managed)s, %(version_id)s, %(created)s, %(updated)s)]
[parameters: {'id': '1cd4dc90-aa23-4be8-81b8-f0b5698db266', 'name': 'administration-access', 'description': None, 'is_managed': True, 'version_id': 1, 'created': datetime.datetime(2026, 2, 17, 8, 20, 47, 242964, tzinfo=datetime.timezone.utc), 'updated': datetime.datetime(2026, 2, 17, 8, 20, 47, 242969, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
= 8 failed, 787 passed, 17 skipped, 818 warnings, 8 errors in 934.47s (0:15:34) =
 Container docker_services_cli-redis-1  Stopping
 Container docker_services_cli-rabbitmq-1  Stopping
 Container docker_services_cli-postgresql-1  Stopping
 Container docker_services_cli-opensearch-1  Stopping
 Container docker_services_cli-redis-1  Stopped
 Container docker_services_cli-redis-1  Removing
 Container docker_services_cli-redis-1  Removed
 Container docker_services_cli-opensearch-1  Stopped
 Container docker_services_cli-opensearch-1  Removing
 Container docker_services_cli-opensearch-1  Removed
 Container docker_services_cli-postgresql-1  Stopped
 Container docker_services_cli-postgresql-1  Removing
 Container docker_services_cli-postgresql-1  Removed
 Container docker_services_cli-rabbitmq-1  Stopped
 Container docker_services_cli-rabbitmq-1  Removing
 Container docker_services_cli-rabbitmq-1  Removed
 Network docker_services_cli_default  Removing
 Network docker_services_cli_default  Removed
