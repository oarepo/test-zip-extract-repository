 minio Pulling 
 b83ce1c86227 Pulling fs layer 
 c1bc68842c41 Pulling fs layer 
 f94d28849fa3 Pulling fs layer 
 0288b5a0d7e7 Pulling fs layer 
 34013573f278 Pulling fs layer 
 f9c0805c25ee Pulling fs layer 
 71e9fc939447 Pulling fs layer 
 1008deaf6ec4 Pulling fs layer 
 81260b173076 Pulling fs layer 
 b83ce1c86227 Downloading [=====================>                             ]  3.146MB/7.241MB
 34013573f278 Download complete 
 81260b173076 Download complete 
 71e9fc939447 Download complete 
 c1bc68842c41 Download complete 
 f9c0805c25ee Downloading [===========>                                       ]  9.437MB/39.45MB
 0288b5a0d7e7 Download complete 
 1008deaf6ec4 Downloading [=====================================>             ]  8.389MB/11.19MB
 f94d28849fa3 Download complete 
 b83ce1c86227 Download complete 
 b83ce1c86227 Extracting 1 s
 1008deaf6ec4 Download complete 
 f9c0805c25ee Downloading [==========================================>        ]  33.55MB/39.45MB
 b83ce1c86227 Extracting 1 s
 f9c0805c25ee Download complete 
 81260b173076 Pull complete 
 f94d28849fa3 Pull complete 
 b83ce1c86227 Pull complete 
 f9c0805c25ee Extracting 1 s
 f9c0805c25ee Extracting 1 s
 f9c0805c25ee Extracting 1 s
 f9c0805c25ee Extracting 1 s
 1008deaf6ec4 Extracting 1 s
 f9c0805c25ee Pull complete 
 1008deaf6ec4 Extracting 1 s
 34013573f278 Pull complete 
 71e9fc939447 Pull complete 
 c1bc68842c41 Pull complete 
 0288b5a0d7e7 Pull complete 
 1008deaf6ec4 Pull complete 
 minio Pulled 
 Network docker_services_cli_default  Creating
 Network docker_services_cli_default  Created
 Container docker_services_cli-minio-1  Creating
 Container docker_services_cli-minio-1  Created
 Container docker_services_cli-minio-1  Starting
 Container docker_services_cli-minio-1  Started
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/fs/__init__.py,line=4::pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/pkg_resources/__init__.py,line=3148::Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.%0AImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/fs/__init__.py,line=4::Deprecated call to `pkg_resources.declare_namespace('fs')`.%0AImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/fs/opener/__init__.py,line=6::Deprecated call to `pkg_resources.declare_namespace('fs.opener')`.%0AImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/pkg_resources/__init__.py,line=2560::Deprecated call to `pkg_resources.declare_namespace('fs')`.%0AImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
============================= test session starts ==============================
platform linux -- Python 3.14.2, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original
configfile: setup.cfg
testpaths: tests, invenio_s3
plugins: isort-4.0.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, github-actions-annotate-failures-0.3.0, pydocstyle-2.4.0, cov-7.0.0, pycodestyle-2.5.0
collected 36 items / 1 deselected / 35 selected

tests/test_invenio_s3.py ..                                              [  5%]
tests/test_multipart.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/flask_caching/__init__.py,line=145::Using the initialization functions in flask_caching.backend is deprecated.  Use the a full path to backend classes directly.
..                                              [ 14%]
tests/test_storage.py .::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py,line=29::CSRF validation will be enabled by default in the version 1.3.x
::warning file=/home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/flask_caching/__init__.py,line=145::Using the initialization functions in flask_caching.backend is deprecated.  Use the a full path to backend classes directly.
.............................                     [100%]

=============================== warnings summary ===============================
.venv/lib/python3.14/site-packages/fs/__init__.py:4
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/fs/__init__.py:4: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
    __import__("pkg_resources").declare_namespace(__name__)  # type: ignore

.venv/lib/python3.14/site-packages/pkg_resources/__init__.py:3148
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/pkg_resources/__init__.py:3148: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

.venv/lib/python3.14/site-packages/fs/__init__.py:4
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/fs/__init__.py:4: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('fs')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    __import__("pkg_resources").declare_namespace(__name__)  # type: ignore

.venv/lib/python3.14/site-packages/fs/opener/__init__.py:6
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/fs/opener/__init__.py:6: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('fs.opener')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    __import__("pkg_resources").declare_namespace(__name__)  # type: ignore

.venv/lib/python3.14/site-packages/pkg_resources/__init__.py:2560
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/pkg_resources/__init__.py:2560: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('fs')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(parent)

tests/test_multipart.py::test_multipart_flow
tests/test_storage.py::test_factory
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/invenio_rest/ext.py:29: FutureWarning: CSRF validation will be enabled by default in the version 1.3.x
    self.init_app(app)

tests/test_multipart.py::test_multipart_flow
tests/test_storage.py::test_factory
  /home/runner/work/test-zip-extract-repository/test-zip-extract-repository/workdir/tests/invenio-s3/original/.venv/lib/python3.14/site-packages/flask_caching/__init__.py:145: DeprecationWarning: Using the initialization functions in flask_caching.backend is deprecated.  Use the a full path to backend classes directly.
    self._set_cache(app, config)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.14.2-final-0 ________________

Name                             Stmts   Miss  Cover   Missing
--------------------------------------------------------------
invenio_s3/__init__.py               4      0   100%
invenio_s3/config.py                20      0   100%
invenio_s3/ext.py                   25      0   100%
invenio_s3/helpers.py               35      3    91%   36, 38, 73
invenio_s3/multipart_client.py      47      3    94%   83, 178-184
invenio_s3/storage.py              114      0   100%
--------------------------------------------------------------
TOTAL                              245      6    98%
=========== 35 passed, 1 deselected, 9 warnings in 107.57s (0:01:47) ===========
 Container docker_services_cli-minio-1  Stopping
 Container docker_services_cli-minio-1  Stopped
 Container docker_services_cli-minio-1  Removing
 Container docker_services_cli-minio-1  Removed
 Network docker_services_cli_default  Removing
 Network docker_services_cli_default  Removed
